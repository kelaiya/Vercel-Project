{"ast":null,"code":"var C = s => {\n  throw TypeError(s);\n};\nvar S = (s, a, t) => a.has(s) || C(\"Cannot \" + t);\nvar n = (s, a, t) => (S(s, a, \"read from private field\"), t ? t.call(s) : a.get(s)),\n  u = (s, a, t) => a.has(s) ? C(\"Cannot add the same private member more than once\") : a instanceof WeakSet ? a.add(s) : a.set(s, t),\n  o = (s, a, t, i) => (S(s, a, \"write to private field\"), i ? i.call(s, t) : a.set(s, t), t),\n  M = (s, a, t) => (S(s, a, \"access private method\"), t);\nimport { initialize as G, teardown as V, generatePlayerInitTime as F, PlaybackTypes as R, toMuxVideoURL as U, MediaError as At, getError as W, CmcdTypeValues as D, addCuePoints as w, getCuePoints as H, getActiveCuePoint as $, addChapters as j, getActiveChapter as q, getMetadata as z, getStartDate as X, getCurrentPdt as J, getStreamType as Z, getTargetLiveWindow as Q, getLiveEdgeStart as tt, getSeekable as et, getEnded as it, getChapters as rt, toPlaybackIdFromSrc as st, toPlaybackIdParts as nt } from \"@mux/playback-core\";\nvar Y = () => {\n    try {\n      return \"0.26.1\";\n    } catch {}\n    return \"UNKNOWN\";\n  },\n  B = Y(),\n  P = () => B;\nimport { CustomVideoElement as I, Events as bt } from \"custom-media-element\";\nvar k = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" part=\"logo\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2\" viewBox=\"0 0 1600 500\"><g fill=\"#fff\"><path d=\"M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729\" style=\"fill-rule:nonzero\"/></g></svg>`;\nvar e = {\n    BEACON_COLLECTION_DOMAIN: \"beacon-collection-domain\",\n    CUSTOM_DOMAIN: \"custom-domain\",\n    DEBUG: \"debug\",\n    DISABLE_TRACKING: \"disable-tracking\",\n    DISABLE_COOKIES: \"disable-cookies\",\n    DRM_TOKEN: \"drm-token\",\n    PLAYBACK_TOKEN: \"playback-token\",\n    ENV_KEY: \"env-key\",\n    MAX_RESOLUTION: \"max-resolution\",\n    MIN_RESOLUTION: \"min-resolution\",\n    RENDITION_ORDER: \"rendition-order\",\n    PROGRAM_START_TIME: \"program-start-time\",\n    PROGRAM_END_TIME: \"program-end-time\",\n    ASSET_START_TIME: \"asset-start-time\",\n    ASSET_END_TIME: \"asset-end-time\",\n    METADATA_URL: \"metadata-url\",\n    PLAYBACK_ID: \"playback-id\",\n    PLAYER_SOFTWARE_NAME: \"player-software-name\",\n    PLAYER_SOFTWARE_VERSION: \"player-software-version\",\n    PLAYER_INIT_TIME: \"player-init-time\",\n    PREFER_CMCD: \"prefer-cmcd\",\n    PREFER_PLAYBACK: \"prefer-playback\",\n    START_TIME: \"start-time\",\n    STREAM_TYPE: \"stream-type\",\n    TARGET_LIVE_WINDOW: \"target-live-window\",\n    LIVE_EDGE_OFFSET: \"live-edge-offset\",\n    TYPE: \"type\",\n    LOGO: \"logo\"\n  },\n  at = Object.values(e),\n  v = P(),\n  x = \"mux-video\",\n  l,\n  f,\n  c,\n  A,\n  b,\n  T,\n  p,\n  _,\n  O,\n  g,\n  m,\n  y,\n  K = class extends I {\n    constructor() {\n      super();\n      u(this, m);\n      u(this, l);\n      u(this, f);\n      u(this, c);\n      u(this, A, {});\n      u(this, b, {});\n      u(this, T);\n      u(this, p);\n      u(this, _);\n      u(this, O);\n      u(this, g, \"\");\n      o(this, c, F()), this.nativeEl.addEventListener(\"muxmetadata\", t => {\n        var d;\n        let i = z(this.nativeEl),\n          r = (d = this.metadata) != null ? d : {};\n        this.metadata = {\n          ...i,\n          ...r\n        }, (i == null ? void 0 : i[\"com.mux.video.branding\"]) === \"mux-free-plan\" && (o(this, g, \"default\"), this.updateLogo());\n      });\n    }\n    static get NAME() {\n      return x;\n    }\n    static get VERSION() {\n      return v;\n    }\n    static get observedAttributes() {\n      var t;\n      return [...at, ...((t = I.observedAttributes) != null ? t : [])];\n    }\n    static getLogoHTML(t) {\n      return !t || t === \"false\" ? \"\" : t === \"default\" ? k : `<img part=\"logo\" src=\"${t}\" />`;\n    }\n    static getTemplateHTML(t = {}) {\n      var i;\n      return `\n      ${I.getTemplateHTML(t)}\n      <style>\n        :host {\n          position: relative;\n        }\n        slot[name=\"logo\"] {\n          display: flex;\n          justify-content: end;\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          opacity: 0;\n          transition: opacity 0.25s ease-in-out;\n          z-index: 1;\n        }\n        slot[name=\"logo\"]:has([part=\"logo\"]) {\n          opacity: 1;\n        }\n        slot[name=\"logo\"] [part=\"logo\"] {\n          width: 5rem;\n          pointer-events: none;\n          user-select: none;\n        }\n      </style>\n      <slot name=\"logo\">\n        ${this.getLogoHTML((i = t[e.LOGO]) != null ? i : \"\")}\n      </slot>\n    `;\n    }\n    get preferCmcd() {\n      var t;\n      return (t = this.getAttribute(e.PREFER_CMCD)) != null ? t : void 0;\n    }\n    set preferCmcd(t) {\n      t !== this.preferCmcd && (t ? D.includes(t) ? this.setAttribute(e.PREFER_CMCD, t) : console.warn(`Invalid value for preferCmcd. Must be one of ${D.join()}`) : this.removeAttribute(e.PREFER_CMCD));\n    }\n    get playerInitTime() {\n      return this.hasAttribute(e.PLAYER_INIT_TIME) ? +this.getAttribute(e.PLAYER_INIT_TIME) : n(this, c);\n    }\n    set playerInitTime(t) {\n      t != this.playerInitTime && (t == null ? this.removeAttribute(e.PLAYER_INIT_TIME) : this.setAttribute(e.PLAYER_INIT_TIME, `${+t}`));\n    }\n    get playerSoftwareName() {\n      var t;\n      return (t = n(this, _)) != null ? t : x;\n    }\n    set playerSoftwareName(t) {\n      o(this, _, t);\n    }\n    get playerSoftwareVersion() {\n      var t;\n      return (t = n(this, p)) != null ? t : v;\n    }\n    set playerSoftwareVersion(t) {\n      o(this, p, t);\n    }\n    get _hls() {\n      var t;\n      return (t = n(this, l)) == null ? void 0 : t.engine;\n    }\n    get mux() {\n      var t;\n      return (t = this.nativeEl) == null ? void 0 : t.mux;\n    }\n    get error() {\n      var t;\n      return (t = W(this.nativeEl)) != null ? t : null;\n    }\n    get errorTranslator() {\n      return n(this, O);\n    }\n    set errorTranslator(t) {\n      o(this, O, t);\n    }\n    get src() {\n      return this.getAttribute(\"src\");\n    }\n    set src(t) {\n      t !== this.src && (t == null ? this.removeAttribute(\"src\") : this.setAttribute(\"src\", t));\n    }\n    get type() {\n      var t;\n      return (t = this.getAttribute(e.TYPE)) != null ? t : void 0;\n    }\n    set type(t) {\n      t !== this.type && (t ? this.setAttribute(e.TYPE, t) : this.removeAttribute(e.TYPE));\n    }\n    get preload() {\n      let t = this.getAttribute(\"preload\");\n      return t === \"\" ? \"auto\" : [\"none\", \"metadata\", \"auto\"].includes(t) ? t : super.preload;\n    }\n    set preload(t) {\n      t != this.getAttribute(\"preload\") && ([\"\", \"none\", \"metadata\", \"auto\"].includes(t) ? this.setAttribute(\"preload\", t) : this.removeAttribute(\"preload\"));\n    }\n    get debug() {\n      return this.getAttribute(e.DEBUG) != null;\n    }\n    set debug(t) {\n      t !== this.debug && (t ? this.setAttribute(e.DEBUG, \"\") : this.removeAttribute(e.DEBUG));\n    }\n    get disableTracking() {\n      return this.hasAttribute(e.DISABLE_TRACKING);\n    }\n    set disableTracking(t) {\n      t !== this.disableTracking && this.toggleAttribute(e.DISABLE_TRACKING, !!t);\n    }\n    get disableCookies() {\n      return this.hasAttribute(e.DISABLE_COOKIES);\n    }\n    set disableCookies(t) {\n      t !== this.disableCookies && (t ? this.setAttribute(e.DISABLE_COOKIES, \"\") : this.removeAttribute(e.DISABLE_COOKIES));\n    }\n    get startTime() {\n      let t = this.getAttribute(e.START_TIME);\n      if (t == null) return;\n      let i = +t;\n      return Number.isNaN(i) ? void 0 : i;\n    }\n    set startTime(t) {\n      t !== this.startTime && (t == null ? this.removeAttribute(e.START_TIME) : this.setAttribute(e.START_TIME, `${t}`));\n    }\n    get playbackId() {\n      var t;\n      return this.hasAttribute(e.PLAYBACK_ID) ? this.getAttribute(e.PLAYBACK_ID) : (t = st(this.src)) != null ? t : void 0;\n    }\n    set playbackId(t) {\n      t !== this.playbackId && (t ? this.setAttribute(e.PLAYBACK_ID, t) : this.removeAttribute(e.PLAYBACK_ID));\n    }\n    get maxResolution() {\n      var t;\n      return (t = this.getAttribute(e.MAX_RESOLUTION)) != null ? t : void 0;\n    }\n    set maxResolution(t) {\n      t !== this.maxResolution && (t ? this.setAttribute(e.MAX_RESOLUTION, t) : this.removeAttribute(e.MAX_RESOLUTION));\n    }\n    get minResolution() {\n      var t;\n      return (t = this.getAttribute(e.MIN_RESOLUTION)) != null ? t : void 0;\n    }\n    set minResolution(t) {\n      t !== this.minResolution && (t ? this.setAttribute(e.MIN_RESOLUTION, t) : this.removeAttribute(e.MIN_RESOLUTION));\n    }\n    get renditionOrder() {\n      var t;\n      return (t = this.getAttribute(e.RENDITION_ORDER)) != null ? t : void 0;\n    }\n    set renditionOrder(t) {\n      t !== this.renditionOrder && (t ? this.setAttribute(e.RENDITION_ORDER, t) : this.removeAttribute(e.RENDITION_ORDER));\n    }\n    get programStartTime() {\n      let t = this.getAttribute(e.PROGRAM_START_TIME);\n      if (t == null) return;\n      let i = +t;\n      return Number.isNaN(i) ? void 0 : i;\n    }\n    set programStartTime(t) {\n      t == null ? this.removeAttribute(e.PROGRAM_START_TIME) : this.setAttribute(e.PROGRAM_START_TIME, `${t}`);\n    }\n    get programEndTime() {\n      let t = this.getAttribute(e.PROGRAM_END_TIME);\n      if (t == null) return;\n      let i = +t;\n      return Number.isNaN(i) ? void 0 : i;\n    }\n    set programEndTime(t) {\n      t == null ? this.removeAttribute(e.PROGRAM_END_TIME) : this.setAttribute(e.PROGRAM_END_TIME, `${t}`);\n    }\n    get assetStartTime() {\n      let t = this.getAttribute(e.ASSET_START_TIME);\n      if (t == null) return;\n      let i = +t;\n      return Number.isNaN(i) ? void 0 : i;\n    }\n    set assetStartTime(t) {\n      t == null ? this.removeAttribute(e.ASSET_START_TIME) : this.setAttribute(e.ASSET_START_TIME, `${t}`);\n    }\n    get assetEndTime() {\n      let t = this.getAttribute(e.ASSET_END_TIME);\n      if (t == null) return;\n      let i = +t;\n      return Number.isNaN(i) ? void 0 : i;\n    }\n    set assetEndTime(t) {\n      t == null ? this.removeAttribute(e.ASSET_END_TIME) : this.setAttribute(e.ASSET_END_TIME, `${t}`);\n    }\n    get customDomain() {\n      var t;\n      return (t = this.getAttribute(e.CUSTOM_DOMAIN)) != null ? t : void 0;\n    }\n    set customDomain(t) {\n      t !== this.customDomain && (t ? this.setAttribute(e.CUSTOM_DOMAIN, t) : this.removeAttribute(e.CUSTOM_DOMAIN));\n    }\n    get drmToken() {\n      var t;\n      return (t = this.getAttribute(e.DRM_TOKEN)) != null ? t : void 0;\n    }\n    set drmToken(t) {\n      t !== this.drmToken && (t ? this.setAttribute(e.DRM_TOKEN, t) : this.removeAttribute(e.DRM_TOKEN));\n    }\n    get playbackToken() {\n      var t, i, r, d;\n      if (this.hasAttribute(e.PLAYBACK_TOKEN)) return (t = this.getAttribute(e.PLAYBACK_TOKEN)) != null ? t : void 0;\n      if (this.hasAttribute(e.PLAYBACK_ID)) {\n        let [, E] = nt((i = this.playbackId) != null ? i : \"\");\n        return (r = new URLSearchParams(E).get(\"token\")) != null ? r : void 0;\n      }\n      if (this.src) return (d = new URLSearchParams(this.src).get(\"token\")) != null ? d : void 0;\n    }\n    set playbackToken(t) {\n      t !== this.playbackToken && (t ? this.setAttribute(e.PLAYBACK_TOKEN, t) : this.removeAttribute(e.PLAYBACK_TOKEN));\n    }\n    get tokens() {\n      let t = this.getAttribute(e.PLAYBACK_TOKEN),\n        i = this.getAttribute(e.DRM_TOKEN);\n      return {\n        ...n(this, b),\n        ...(t != null ? {\n          playback: t\n        } : {}),\n        ...(i != null ? {\n          drm: i\n        } : {})\n      };\n    }\n    set tokens(t) {\n      o(this, b, t != null ? t : {});\n    }\n    get ended() {\n      return it(this.nativeEl, this._hls);\n    }\n    get envKey() {\n      var t;\n      return (t = this.getAttribute(e.ENV_KEY)) != null ? t : void 0;\n    }\n    set envKey(t) {\n      t !== this.envKey && (t ? this.setAttribute(e.ENV_KEY, t) : this.removeAttribute(e.ENV_KEY));\n    }\n    get beaconCollectionDomain() {\n      var t;\n      return (t = this.getAttribute(e.BEACON_COLLECTION_DOMAIN)) != null ? t : void 0;\n    }\n    set beaconCollectionDomain(t) {\n      t !== this.beaconCollectionDomain && (t ? this.setAttribute(e.BEACON_COLLECTION_DOMAIN, t) : this.removeAttribute(e.BEACON_COLLECTION_DOMAIN));\n    }\n    get streamType() {\n      var t;\n      return (t = this.getAttribute(e.STREAM_TYPE)) != null ? t : Z(this.nativeEl);\n    }\n    set streamType(t) {\n      t !== this.streamType && (t ? this.setAttribute(e.STREAM_TYPE, t) : this.removeAttribute(e.STREAM_TYPE));\n    }\n    get targetLiveWindow() {\n      return this.hasAttribute(e.TARGET_LIVE_WINDOW) ? +this.getAttribute(e.TARGET_LIVE_WINDOW) : Q(this.nativeEl);\n    }\n    set targetLiveWindow(t) {\n      t != this.targetLiveWindow && (t == null ? this.removeAttribute(e.TARGET_LIVE_WINDOW) : this.setAttribute(e.TARGET_LIVE_WINDOW, `${+t}`));\n    }\n    get liveEdgeStart() {\n      var t, i;\n      if (this.hasAttribute(e.LIVE_EDGE_OFFSET)) {\n        let {\n            liveEdgeOffset: r\n          } = this,\n          d = (t = this.nativeEl.seekable.end(0)) != null ? t : 0,\n          E = (i = this.nativeEl.seekable.start(0)) != null ? i : 0;\n        return Math.max(E, d - r);\n      }\n      return tt(this.nativeEl);\n    }\n    get liveEdgeOffset() {\n      if (this.hasAttribute(e.LIVE_EDGE_OFFSET)) return +this.getAttribute(e.LIVE_EDGE_OFFSET);\n    }\n    set liveEdgeOffset(t) {\n      t != this.liveEdgeOffset && (t == null ? this.removeAttribute(e.LIVE_EDGE_OFFSET) : this.setAttribute(e.LIVE_EDGE_OFFSET, `${+t}`));\n    }\n    get seekable() {\n      return et(this.nativeEl);\n    }\n    async addCuePoints(t) {\n      return w(this.nativeEl, t);\n    }\n    get activeCuePoint() {\n      return $(this.nativeEl);\n    }\n    get cuePoints() {\n      return H(this.nativeEl);\n    }\n    async addChapters(t) {\n      return j(this.nativeEl, t);\n    }\n    get activeChapter() {\n      return q(this.nativeEl);\n    }\n    get chapters() {\n      return rt(this.nativeEl);\n    }\n    getStartDate() {\n      return X(this.nativeEl, this._hls);\n    }\n    get currentPdt() {\n      return J(this.nativeEl, this._hls);\n    }\n    get preferPlayback() {\n      let t = this.getAttribute(e.PREFER_PLAYBACK);\n      if (t === R.MSE || t === R.NATIVE) return t;\n    }\n    set preferPlayback(t) {\n      t !== this.preferPlayback && (t === R.MSE || t === R.NATIVE ? this.setAttribute(e.PREFER_PLAYBACK, t) : this.removeAttribute(e.PREFER_PLAYBACK));\n    }\n    get metadata() {\n      return {\n        ...this.getAttributeNames().filter(i => i.startsWith(\"metadata-\") && ![e.METADATA_URL].includes(i)).reduce((i, r) => {\n          let d = this.getAttribute(r);\n          return d != null && (i[r.replace(/^metadata-/, \"\").replace(/-/g, \"_\")] = d), i;\n        }, {}),\n        ...n(this, A)\n      };\n    }\n    set metadata(t) {\n      o(this, A, t != null ? t : {}), this.mux && this.mux.emit(\"hb\", n(this, A));\n    }\n    get _hlsConfig() {\n      return n(this, T);\n    }\n    set _hlsConfig(t) {\n      o(this, T, t);\n    }\n    get logo() {\n      var t;\n      return (t = this.getAttribute(e.LOGO)) != null ? t : n(this, g);\n    }\n    set logo(t) {\n      t ? this.setAttribute(e.LOGO, t) : this.removeAttribute(e.LOGO);\n    }\n    load() {\n      o(this, l, G(this, this.nativeEl, n(this, l)));\n    }\n    unload() {\n      V(this.nativeEl, n(this, l), this), o(this, l, void 0);\n    }\n    attributeChangedCallback(t, i, r) {\n      var E, L;\n      switch (I.observedAttributes.includes(t) && ![\"src\", \"autoplay\", \"preload\"].includes(t) && super.attributeChangedCallback(t, i, r), t) {\n        case e.PLAYER_SOFTWARE_NAME:\n          this.playerSoftwareName = r != null ? r : void 0;\n          break;\n        case e.PLAYER_SOFTWARE_VERSION:\n          this.playerSoftwareVersion = r != null ? r : void 0;\n          break;\n        case \"src\":\n          {\n            let h = !!i,\n              N = !!r;\n            !h && N ? M(this, m, y).call(this) : h && !N ? this.unload() : h && N && (this.unload(), M(this, m, y).call(this));\n            break;\n          }\n        case \"autoplay\":\n          if (r === i) break;\n          (E = n(this, l)) == null || E.setAutoplay(this.autoplay);\n          break;\n        case \"preload\":\n          if (r === i) break;\n          (L = n(this, l)) == null || L.setPreload(r);\n          break;\n        case e.PLAYBACK_ID:\n          this.src = U(this);\n          break;\n        case e.DEBUG:\n          {\n            let h = this.debug;\n            this.mux && console.info(\"Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src.\"), this._hls && (this._hls.config.debug = h);\n            break;\n          }\n        case e.METADATA_URL:\n          r && fetch(r).then(h => h.json()).then(h => this.metadata = h).catch(() => console.error(`Unable to load or parse metadata JSON from metadata-url ${r}!`));\n          break;\n        case e.STREAM_TYPE:\n          (r == null || r !== i) && this.dispatchEvent(new CustomEvent(\"streamtypechange\", {\n            composed: !0,\n            bubbles: !0\n          }));\n          break;\n        case e.TARGET_LIVE_WINDOW:\n          (r == null || r !== i) && this.dispatchEvent(new CustomEvent(\"targetlivewindowchange\", {\n            composed: !0,\n            bubbles: !0,\n            detail: this.targetLiveWindow\n          }));\n          break;\n        case e.LOGO:\n          (r == null || r !== i) && this.updateLogo();\n          break;\n      }\n    }\n    updateLogo() {\n      if (!this.shadowRoot) return;\n      let t = this.shadowRoot.querySelector('slot[name=\"logo\"]');\n      if (!t) return;\n      let i = this.constructor.getLogoHTML(n(this, g) || this.logo);\n      t.innerHTML = i;\n    }\n    connectedCallback() {\n      var t;\n      (t = super.connectedCallback) == null || t.call(this), this.nativeEl && this.src && !n(this, l) && M(this, m, y).call(this);\n    }\n    disconnectedCallback() {\n      this.unload();\n    }\n    handleEvent(t) {\n      t.target === this.nativeEl && this.dispatchEvent(new CustomEvent(t.type, {\n        composed: !0,\n        detail: t.detail\n      }));\n    }\n  };\nl = new WeakMap(), f = new WeakMap(), c = new WeakMap(), A = new WeakMap(), b = new WeakMap(), T = new WeakMap(), p = new WeakMap(), _ = new WeakMap(), O = new WeakMap(), g = new WeakMap(), m = new WeakSet(), y = async function () {\n  n(this, f) || (await o(this, f, Promise.resolve()), o(this, f, null), this.load());\n};\nexport { e as Attributes, bt as Events, At as MediaError, K as MuxVideoBaseElement, F as generatePlayerInitTime, x as playerSoftwareName, v as playerSoftwareVersion };","map":{"version":3,"names":["initialize","G","teardown","V","generatePlayerInitTime","F","PlaybackTypes","R","toMuxVideoURL","U","MediaError","At","getError","W","CmcdTypeValues","D","addCuePoints","w","getCuePoints","H","getActiveCuePoint","$","addChapters","j","getActiveChapter","q","getMetadata","z","getStartDate","X","getCurrentPdt","J","getStreamType","Z","getTargetLiveWindow","Q","getLiveEdgeStart","tt","getSeekable","et","getEnded","it","getChapters","rt","toPlaybackIdFromSrc","st","toPlaybackIdParts","nt","Y","getEnvPlayerVersion","B","P","getPlayerVersion","CustomVideoElement","I","Events","bt","k","e","BEACON_COLLECTION_DOMAIN","CUSTOM_DOMAIN","DEBUG","DISABLE_TRACKING","DISABLE_COOKIES","DRM_TOKEN","PLAYBACK_TOKEN","ENV_KEY","MAX_RESOLUTION","MIN_RESOLUTION","RENDITION_ORDER","PROGRAM_START_TIME","PROGRAM_END_TIME","ASSET_START_TIME","ASSET_END_TIME","METADATA_URL","PLAYBACK_ID","PLAYER_SOFTWARE_NAME","PLAYER_SOFTWARE_VERSION","PLAYER_INIT_TIME","PREFER_CMCD","PREFER_PLAYBACK","START_TIME","STREAM_TYPE","TARGET_LIVE_WINDOW","LIVE_EDGE_OFFSET","TYPE","LOGO","at","Object","values","v","x","l","f","c","A","b","T","p","_","O","g","m","y","K","constructor","u","o","nativeEl","addEventListener","t","d","i","r","metadata","updateLogo","NAME","VERSION","observedAttributes","getLogoHTML","getTemplateHTML","preferCmcd","getAttribute","includes","setAttribute","console","warn","join","removeAttribute","playerInitTime","hasAttribute","n","playerSoftwareName","playerSoftwareVersion","_hls","engine","mux","error","errorTranslator","src","type","preload","debug","disableTracking","toggleAttribute","disableCookies","startTime","Number","isNaN","playbackId","maxResolution","minResolution","renditionOrder","programStartTime","programEndTime","assetStartTime","assetEndTime","customDomain","drmToken","playbackToken","E","URLSearchParams","get","tokens","playback","drm","ended","envKey","beaconCollectionDomain","streamType","targetLiveWindow","liveEdgeStart","liveEdgeOffset","seekable","end","start","Math","max","activeCuePoint","cuePoints","activeChapter","chapters","currentPdt","preferPlayback","MSE","NATIVE","getAttributeNames","filter","startsWith","reduce","replace","emit","_hlsConfig","logo","load","unload","attributeChangedCallback","L","h","N","M","call","setAutoplay","autoplay","setPreload","info","config","fetch","then","json","catch","dispatchEvent","CustomEvent","composed","bubbles","detail","shadowRoot","querySelector","innerHTML","connectedCallback","disconnectedCallback","handleEvent","target","WeakMap","WeakSet","requestLoad_fn","Promise","resolve","Attributes","MuxVideoBaseElement"],"sources":["/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-video/src/base.ts","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-video/src/env.ts","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-video/src/assets/mux-logo.ts"],"sourcesContent":["import {\n  initialize,\n  teardown,\n  generatePlayerInitTime,\n  MuxMediaProps,\n  StreamTypes,\n  PlaybackTypes,\n  toMuxVideoURL,\n  Metadata,\n  MediaError,\n  getError,\n  CmcdTypes,\n  CmcdTypeValues,\n  addCuePoints,\n  getCuePoints,\n  getActiveCuePoint,\n  addChapters,\n  getActiveChapter,\n  getMetadata,\n  getStartDate,\n  getCurrentPdt,\n  getStreamType,\n  getTargetLiveWindow,\n  getLiveEdgeStart,\n  getSeekable,\n  getEnded,\n  getChapters,\n  toPlaybackIdFromSrc,\n  toPlaybackIdParts,\n  // isMuxVideoSrc,\n} from '@mux/playback-core';\nimport type {\n  PlaybackCore,\n  PlaybackEngine,\n  ExtensionMimeTypeMap,\n  ValueOf,\n  MaxResolutionValue,\n  MinResolutionValue,\n  RenditionOrderValue,\n  Chapter,\n  CuePoint,\n  Tokens,\n} from '@mux/playback-core';\nimport { getPlayerVersion } from './env';\n// this must be imported after playback-core for the polyfill to be included\nimport { CustomVideoElement, Events } from 'custom-media-element';\nimport type { HlsConfig } from 'hls.js';\nimport { muxLogo } from './assets/mux-logo.js';\nimport type { IMuxVideoBaseElement } from './types.js';\n\nexport * from './types.js';\n\nexport const Attributes = {\n  BEACON_COLLECTION_DOMAIN: 'beacon-collection-domain',\n  CUSTOM_DOMAIN: 'custom-domain',\n  DEBUG: 'debug',\n  DISABLE_TRACKING: 'disable-tracking',\n  DISABLE_COOKIES: 'disable-cookies',\n  DRM_TOKEN: 'drm-token',\n  PLAYBACK_TOKEN: 'playback-token',\n  ENV_KEY: 'env-key',\n  MAX_RESOLUTION: 'max-resolution',\n  MIN_RESOLUTION: 'min-resolution',\n  RENDITION_ORDER: 'rendition-order',\n  PROGRAM_START_TIME: 'program-start-time',\n  PROGRAM_END_TIME: 'program-end-time',\n  ASSET_START_TIME: 'asset-start-time',\n  ASSET_END_TIME: 'asset-end-time',\n  METADATA_URL: 'metadata-url',\n  PLAYBACK_ID: 'playback-id',\n  PLAYER_SOFTWARE_NAME: 'player-software-name',\n  PLAYER_SOFTWARE_VERSION: 'player-software-version',\n  PLAYER_INIT_TIME: 'player-init-time',\n  PREFER_CMCD: 'prefer-cmcd',\n  PREFER_PLAYBACK: 'prefer-playback',\n  START_TIME: 'start-time',\n  STREAM_TYPE: 'stream-type',\n  TARGET_LIVE_WINDOW: 'target-live-window',\n  LIVE_EDGE_OFFSET: 'live-edge-offset',\n  TYPE: 'type',\n  LOGO: 'logo',\n} as const;\n\nconst AttributeNameValues = Object.values(Attributes);\n\nexport const playerSoftwareVersion = getPlayerVersion();\nexport const playerSoftwareName = 'mux-video';\n\nexport class MuxVideoBaseElement extends CustomVideoElement implements IMuxVideoBaseElement {\n  static get NAME() {\n    return playerSoftwareName;\n  }\n\n  static get VERSION() {\n    return playerSoftwareVersion;\n  }\n\n  static get observedAttributes() {\n    return [...AttributeNameValues, ...(CustomVideoElement.observedAttributes ?? [])];\n  }\n\n  #core?: PlaybackCore;\n  #loadRequested?: Promise<void> | null;\n  #defaultPlayerInitTime: number;\n  #metadata: Metadata = {};\n  #tokens: Tokens = {};\n  #_hlsConfig?: Partial<HlsConfig>;\n  #playerSoftwareVersion?: string;\n  #playerSoftwareName?: string;\n  #errorTranslator?: (errorEvent: any) => any;\n  #logo: string = '';\n\n  static getLogoHTML(logoValue: string | null) {\n    if (!logoValue || logoValue === 'false') return '';\n    return logoValue === 'default' ? muxLogo : `<img part=\"logo\" src=\"${logoValue}\" />`;\n  }\n\n  static getTemplateHTML(attrs: Record<string, string> = {}) {\n    return /* html */ `\n      ${CustomVideoElement.getTemplateHTML(attrs)}\n      <style>\n        :host {\n          position: relative;\n        }\n        slot[name=\"logo\"] {\n          display: flex;\n          justify-content: end;\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          opacity: 0;\n          transition: opacity 0.25s ease-in-out;\n          z-index: 1;\n        }\n        slot[name=\"logo\"]:has([part=\"logo\"]) {\n          opacity: 1;\n        }\n        slot[name=\"logo\"] [part=\"logo\"] {\n          width: 5rem;\n          pointer-events: none;\n          user-select: none;\n        }\n      </style>\n      <slot name=\"logo\">\n        ${this.getLogoHTML(attrs[Attributes.LOGO] ?? '')}\n      </slot>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.#defaultPlayerInitTime = generatePlayerInitTime();\n\n    this.nativeEl.addEventListener('muxmetadata', (_event: Event) => {\n      const fetchedMetadata = getMetadata(this.nativeEl);\n      const userMetadata = this.metadata ?? {};\n\n      // User metadata takes precedence over fetched metadata...\n      this.metadata = {\n        ...fetchedMetadata,\n        ...userMetadata,\n      };\n\n      // ...except for the free plan branding metadata\n      if ((fetchedMetadata as any)?.['com.mux.video.branding'] === 'mux-free-plan') {\n        this.#logo = 'default';\n        this.updateLogo();\n      }\n    });\n  }\n\n  get preferCmcd() {\n    return (this.getAttribute(Attributes.PREFER_CMCD) as ValueOf<CmcdTypes>) ?? undefined;\n  }\n\n  set preferCmcd(value: ValueOf<CmcdTypes> | undefined) {\n    if (value === this.preferCmcd) return;\n    if (!value) {\n      this.removeAttribute(Attributes.PREFER_CMCD);\n    } else if (CmcdTypeValues.includes(value)) {\n      this.setAttribute(Attributes.PREFER_CMCD, value);\n    } else {\n      console.warn(`Invalid value for preferCmcd. Must be one of ${CmcdTypeValues.join()}`);\n    }\n  }\n\n  get playerInitTime() {\n    if (!this.hasAttribute(Attributes.PLAYER_INIT_TIME)) return this.#defaultPlayerInitTime;\n    return +(this.getAttribute(Attributes.PLAYER_INIT_TIME) as string) as number;\n  }\n\n  set playerInitTime(val) {\n    // don't cause an infinite loop and avoid change event dispatching\n    if (val == this.playerInitTime) return;\n\n    if (val == null) {\n      this.removeAttribute(Attributes.PLAYER_INIT_TIME);\n    } else {\n      this.setAttribute(Attributes.PLAYER_INIT_TIME, `${+val}`);\n    }\n  }\n\n  get playerSoftwareName() {\n    return this.#playerSoftwareName ?? playerSoftwareName;\n  }\n\n  set playerSoftwareName(value: string | undefined) {\n    this.#playerSoftwareName = value;\n  }\n\n  get playerSoftwareVersion() {\n    return this.#playerSoftwareVersion ?? playerSoftwareVersion;\n  }\n\n  set playerSoftwareVersion(value: string | undefined) {\n    this.#playerSoftwareVersion = value;\n  }\n\n  // Keeping this named \"_hls\" since it's exposed for unadvertised \"advanced usage\" via getter that assumes specifically hls.js (CJP)\n  get _hls(): PlaybackEngine | undefined {\n    return this.#core?.engine;\n  }\n\n  get mux(): Readonly<HTMLVideoElement['mux']> | undefined {\n    return this.nativeEl?.mux;\n  }\n\n  get error() {\n    return getError(this.nativeEl) ?? null;\n  }\n\n  get errorTranslator(): ((errorEvent: any) => any) | undefined {\n    return this.#errorTranslator;\n  }\n\n  set errorTranslator(value: ((errorEvent: any) => any) | undefined) {\n    this.#errorTranslator = value;\n  }\n\n  get src() {\n    // Use the attribute value as the source of truth.\n    // No need to store it in two places.\n    // This avoids needing a to read the attribute initially and update the src.\n    return this.getAttribute('src') as string;\n  }\n\n  set src(val: string) {\n    // If being set by attributeChangedCallback,\n    // dont' cause an infinite loop\n    if (val === this.src) return;\n\n    if (val == null) {\n      this.removeAttribute('src');\n    } else {\n      this.setAttribute('src', val);\n    }\n  }\n\n  get type(): ValueOf<ExtensionMimeTypeMap> | undefined {\n    return (this.getAttribute(Attributes.TYPE) as ValueOf<ExtensionMimeTypeMap>) ?? undefined;\n  }\n\n  set type(val: ValueOf<ExtensionMimeTypeMap> | undefined) {\n    // dont' cause an infinite loop\n    if (val === this.type) return;\n\n    if (val) {\n      this.setAttribute(Attributes.TYPE, val);\n    } else {\n      this.removeAttribute(Attributes.TYPE);\n    }\n  }\n\n  get preload() {\n    const val = this.getAttribute('preload') as HTMLMediaElement['preload'];\n    if (val === '') return 'auto';\n    if (['none', 'metadata', 'auto'].includes(val)) return val;\n    return super.preload;\n  }\n\n  set preload(val) {\n    // don't cause an infinite loop\n    // check the attribute because an empty string maps to the `auto` prop\n    if (val == this.getAttribute('preload')) return;\n\n    if (['', 'none', 'metadata', 'auto'].includes(val)) {\n      this.setAttribute('preload', val);\n    } else {\n      this.removeAttribute('preload');\n    }\n  }\n\n  get debug() {\n    return this.getAttribute(Attributes.DEBUG) != null;\n  }\n\n  set debug(val) {\n    // dont' cause an infinite loop\n    if (val === this.debug) return;\n\n    if (val) {\n      this.setAttribute(Attributes.DEBUG, '');\n    } else {\n      this.removeAttribute(Attributes.DEBUG);\n    }\n  }\n\n  get disableTracking() {\n    return this.hasAttribute(Attributes.DISABLE_TRACKING);\n  }\n\n  set disableTracking(val) {\n    // dont' cause an infinite loop\n    if (val === this.disableTracking) return;\n\n    this.toggleAttribute(Attributes.DISABLE_TRACKING, !!val);\n  }\n\n  get disableCookies() {\n    return this.hasAttribute(Attributes.DISABLE_COOKIES);\n  }\n\n  set disableCookies(val) {\n    // dont' cause an infinite loop\n    if (val === this.disableCookies) return;\n\n    if (val) {\n      this.setAttribute(Attributes.DISABLE_COOKIES, '');\n    } else {\n      this.removeAttribute(Attributes.DISABLE_COOKIES);\n    }\n  }\n\n  get startTime(): number | undefined {\n    const val = this.getAttribute(Attributes.START_TIME);\n    if (val == null) return undefined;\n    const num = +val;\n    return !Number.isNaN(num) ? num : undefined;\n  }\n\n  set startTime(val: number | undefined) {\n    // dont' cause an infinite loop\n    if (val === this.startTime) return;\n\n    if (val == null) {\n      this.removeAttribute(Attributes.START_TIME);\n    } else {\n      this.setAttribute(Attributes.START_TIME, `${val}`);\n    }\n  }\n\n  // NOTE: playbackId may contain additional query params (e.g. token= for playback token) (CJP)\n  get playbackId(): string | undefined {\n    if (this.hasAttribute(Attributes.PLAYBACK_ID)) {\n      return this.getAttribute(Attributes.PLAYBACK_ID) as string;\n    }\n\n    return toPlaybackIdFromSrc(this.src) ?? undefined;\n  }\n\n  set playbackId(val: string | undefined) {\n    // dont' cause an infinite loop\n    if (val === this.playbackId) return;\n\n    if (val) {\n      this.setAttribute(Attributes.PLAYBACK_ID, val);\n    } else {\n      this.removeAttribute(Attributes.PLAYBACK_ID);\n    }\n  }\n\n  get maxResolution() {\n    return (this.getAttribute(Attributes.MAX_RESOLUTION) as MaxResolutionValue) ?? undefined;\n  }\n\n  set maxResolution(val: MaxResolutionValue | undefined) {\n    if (val === this.maxResolution) return;\n\n    if (val) {\n      this.setAttribute(Attributes.MAX_RESOLUTION, val);\n    } else {\n      this.removeAttribute(Attributes.MAX_RESOLUTION);\n    }\n  }\n\n  get minResolution() {\n    return (this.getAttribute(Attributes.MIN_RESOLUTION) as MinResolutionValue) ?? undefined;\n  }\n\n  set minResolution(val: MinResolutionValue | undefined) {\n    if (val === this.minResolution) return;\n\n    if (val) {\n      this.setAttribute(Attributes.MIN_RESOLUTION, val);\n    } else {\n      this.removeAttribute(Attributes.MIN_RESOLUTION);\n    }\n  }\n\n  get renditionOrder() {\n    return (this.getAttribute(Attributes.RENDITION_ORDER) as RenditionOrderValue) ?? undefined;\n  }\n\n  set renditionOrder(val: RenditionOrderValue | undefined) {\n    if (val === this.renditionOrder) return;\n\n    if (val) {\n      this.setAttribute(Attributes.RENDITION_ORDER, val);\n    } else {\n      this.removeAttribute(Attributes.RENDITION_ORDER);\n    }\n  }\n\n  get programStartTime() {\n    const val = this.getAttribute(Attributes.PROGRAM_START_TIME);\n    if (val == null) return undefined;\n    const num = +val;\n    return !Number.isNaN(num) ? num : undefined;\n  }\n\n  set programStartTime(val: number | undefined) {\n    if (val == undefined) {\n      this.removeAttribute(Attributes.PROGRAM_START_TIME);\n    } else {\n      this.setAttribute(Attributes.PROGRAM_START_TIME, `${val}`);\n    }\n  }\n\n  get programEndTime() {\n    const val = this.getAttribute(Attributes.PROGRAM_END_TIME);\n    if (val == null) return undefined;\n    const num = +val;\n    return !Number.isNaN(num) ? num : undefined;\n  }\n\n  set programEndTime(val: number | undefined) {\n    if (val == undefined) {\n      this.removeAttribute(Attributes.PROGRAM_END_TIME);\n    } else {\n      this.setAttribute(Attributes.PROGRAM_END_TIME, `${val}`);\n    }\n  }\n\n  get assetStartTime() {\n    const val = this.getAttribute(Attributes.ASSET_START_TIME);\n    if (val == null) return undefined;\n    const num = +val;\n    return !Number.isNaN(num) ? num : undefined;\n  }\n\n  set assetStartTime(val: number | undefined) {\n    if (val == undefined) {\n      this.removeAttribute(Attributes.ASSET_START_TIME);\n    } else {\n      this.setAttribute(Attributes.ASSET_START_TIME, `${val}`);\n    }\n  }\n\n  get assetEndTime() {\n    const val = this.getAttribute(Attributes.ASSET_END_TIME);\n    if (val == null) return undefined;\n    const num = +val;\n    return !Number.isNaN(num) ? num : undefined;\n  }\n\n  set assetEndTime(val: number | undefined) {\n    if (val == undefined) {\n      this.removeAttribute(Attributes.ASSET_END_TIME);\n    } else {\n      this.setAttribute(Attributes.ASSET_END_TIME, `${val}`);\n    }\n  }\n\n  get customDomain() {\n    return this.getAttribute(Attributes.CUSTOM_DOMAIN) ?? undefined;\n  }\n\n  set customDomain(val: string | undefined) {\n    // dont' cause an infinite loop\n    if (val === this.customDomain) return;\n\n    if (val) {\n      this.setAttribute(Attributes.CUSTOM_DOMAIN, val);\n    } else {\n      this.removeAttribute(Attributes.CUSTOM_DOMAIN);\n    }\n  }\n\n  get drmToken() {\n    return this.getAttribute(Attributes.DRM_TOKEN) ?? undefined;\n  }\n\n  set drmToken(val: string | undefined) {\n    // dont' cause an infinite loop\n    if (val === this.drmToken) return;\n\n    if (val) {\n      this.setAttribute(Attributes.DRM_TOKEN, val);\n    } else {\n      this.removeAttribute(Attributes.DRM_TOKEN);\n    }\n  }\n\n  /**\n   * Get the playback token for signing the src URL.\n   */\n  get playbackToken() {\n    if (this.hasAttribute(Attributes.PLAYBACK_TOKEN)) {\n      return this.getAttribute(Attributes.PLAYBACK_TOKEN) ?? undefined;\n    }\n    if (this.hasAttribute(Attributes.PLAYBACK_ID)) {\n      const [, queryParts] = toPlaybackIdParts(this.playbackId ?? '');\n      return new URLSearchParams(queryParts).get('token') ?? undefined;\n    }\n    if (this.src) {\n      return new URLSearchParams(this.src).get('token') ?? undefined;\n    }\n    return undefined;\n  }\n\n  /**\n   * Set the playback token for signing the src URL.\n   */\n  set playbackToken(val: string | undefined) {\n    if (val === this.playbackToken) return;\n\n    if (val) {\n      this.setAttribute(Attributes.PLAYBACK_TOKEN, val);\n    } else {\n      this.removeAttribute(Attributes.PLAYBACK_TOKEN);\n    }\n  }\n\n  get tokens() {\n    const playback = this.getAttribute(Attributes.PLAYBACK_TOKEN);\n    const drm = this.getAttribute(Attributes.DRM_TOKEN);\n    return {\n      ...this.#tokens,\n      ...(playback != null ? { playback } : {}),\n      ...(drm != null ? { drm } : {}),\n    };\n  }\n\n  set tokens(val) {\n    this.#tokens = val ?? {};\n  }\n\n  get ended() {\n    // This ensures that edge case media that doesn't properly end will\n    // still announce itself as \"ended\".\n    return getEnded(this.nativeEl, this._hls);\n  }\n\n  get envKey(): string | undefined {\n    return this.getAttribute(Attributes.ENV_KEY) ?? undefined;\n  }\n\n  set envKey(val: string | undefined) {\n    // dont' cause an infinite loop\n    if (val === this.envKey) return;\n\n    if (val) {\n      this.setAttribute(Attributes.ENV_KEY, val);\n    } else {\n      this.removeAttribute(Attributes.ENV_KEY);\n    }\n  }\n\n  get beaconCollectionDomain(): string | undefined {\n    return this.getAttribute(Attributes.BEACON_COLLECTION_DOMAIN) ?? undefined;\n  }\n\n  set beaconCollectionDomain(val: string | undefined) {\n    // don't cause an infinite loop\n    if (val === this.beaconCollectionDomain) return;\n\n    if (val) {\n      this.setAttribute(Attributes.BEACON_COLLECTION_DOMAIN, val);\n    } else {\n      this.removeAttribute(Attributes.BEACON_COLLECTION_DOMAIN);\n    }\n  }\n\n  get streamType(): ValueOf<StreamTypes> | undefined {\n    // Allow overriding inferred `streamType`\n    return (this.getAttribute(Attributes.STREAM_TYPE) as ValueOf<StreamTypes>) ?? getStreamType(this.nativeEl);\n  }\n\n  set streamType(val: ValueOf<StreamTypes> | undefined) {\n    // don't cause an infinite loop and avoid change event dispatching\n    if (val === this.streamType) return;\n\n    if (val) {\n      this.setAttribute(Attributes.STREAM_TYPE, val);\n    } else {\n      this.removeAttribute(Attributes.STREAM_TYPE);\n    }\n  }\n\n  get targetLiveWindow() {\n    // Allow overriding inferred `targetLiveWindow`\n    if (this.hasAttribute(Attributes.TARGET_LIVE_WINDOW)) {\n      return +(this.getAttribute(Attributes.TARGET_LIVE_WINDOW) as string) as number;\n    }\n    return getTargetLiveWindow(this.nativeEl);\n  }\n\n  set targetLiveWindow(val: number | undefined) {\n    // don't cause an infinite loop and avoid change event dispatching\n    if (val == this.targetLiveWindow) return;\n\n    if (val == null) {\n      this.removeAttribute(Attributes.TARGET_LIVE_WINDOW);\n    } else {\n      this.setAttribute(Attributes.TARGET_LIVE_WINDOW, `${+val}`);\n    }\n  }\n\n  get liveEdgeStart() {\n    if (this.hasAttribute(Attributes.LIVE_EDGE_OFFSET)) {\n      const { liveEdgeOffset } = this;\n      const seekableEnd = this.nativeEl.seekable.end(0) ?? 0;\n      const seekableStart = this.nativeEl.seekable.start(0) ?? 0;\n      return Math.max(seekableStart, seekableEnd - (liveEdgeOffset as number));\n    }\n    return getLiveEdgeStart(this.nativeEl);\n  }\n\n  get liveEdgeOffset() {\n    if (!this.hasAttribute(Attributes.LIVE_EDGE_OFFSET)) return undefined;\n    return +(this.getAttribute(Attributes.LIVE_EDGE_OFFSET) as string) as number;\n  }\n\n  set liveEdgeOffset(val: number | undefined) {\n    // don't cause an infinite loop and avoid change event dispatching\n    if (val == this.liveEdgeOffset) return;\n\n    if (val == null) {\n      this.removeAttribute(Attributes.LIVE_EDGE_OFFSET);\n    } else {\n      this.setAttribute(Attributes.LIVE_EDGE_OFFSET, `${+val}`);\n    }\n  }\n\n  get seekable() {\n    return getSeekable(this.nativeEl);\n  }\n\n  async addCuePoints<T = any>(cuePoints: CuePoint<T>[]) {\n    return addCuePoints(this.nativeEl, cuePoints);\n  }\n\n  get activeCuePoint() {\n    return getActiveCuePoint(this.nativeEl);\n  }\n\n  get cuePoints() {\n    return getCuePoints(this.nativeEl);\n  }\n\n  async addChapters(chapters: Chapter[]) {\n    return addChapters(this.nativeEl, chapters);\n  }\n\n  get activeChapter() {\n    return getActiveChapter(this.nativeEl);\n  }\n\n  get chapters() {\n    return getChapters(this.nativeEl);\n  }\n\n  getStartDate() {\n    return getStartDate(this.nativeEl, this._hls);\n  }\n\n  get currentPdt() {\n    return getCurrentPdt(this.nativeEl, this._hls);\n  }\n\n  get preferPlayback(): ValueOf<PlaybackTypes> | undefined {\n    const val = this.getAttribute(Attributes.PREFER_PLAYBACK);\n    if (val === PlaybackTypes.MSE || val === PlaybackTypes.NATIVE) return val;\n    return undefined;\n  }\n\n  set preferPlayback(val: ValueOf<PlaybackTypes> | undefined) {\n    if (val === this.preferPlayback) return;\n\n    if (val === PlaybackTypes.MSE || val === PlaybackTypes.NATIVE) {\n      this.setAttribute(Attributes.PREFER_PLAYBACK, val);\n    } else {\n      this.removeAttribute(Attributes.PREFER_PLAYBACK);\n    }\n  }\n\n  get metadata() {\n    const inferredMetadataAttrs: { [key: string]: string } = this.getAttributeNames()\n      .filter((attrName) => {\n        return attrName.startsWith('metadata-') && !([Attributes.METADATA_URL] as string[]).includes(attrName);\n      })\n      .reduce(\n        (currAttrs, attrName) => {\n          const value = this.getAttribute(attrName);\n          if (value != null) {\n            currAttrs[attrName.replace(/^metadata-/, '').replace(/-/g, '_') as string] = value;\n          }\n          return currAttrs;\n        },\n        {} as { [key: string]: string }\n      );\n\n    return {\n      ...inferredMetadataAttrs,\n      ...this.#metadata,\n    };\n  }\n\n  set metadata(val: Readonly<Metadata> | undefined) {\n    this.#metadata = val ?? {};\n    if (!!this.mux) {\n      this.mux.emit('hb', this.#metadata);\n    }\n  }\n\n  get _hlsConfig() {\n    return this.#_hlsConfig;\n  }\n\n  set _hlsConfig(val: Readonly<Partial<HlsConfig>> | undefined) {\n    this.#_hlsConfig = val;\n  }\n\n  get logo() {\n    return this.getAttribute(Attributes.LOGO) ?? this.#logo;\n  }\n\n  set logo(val) {\n    if (val) {\n      this.setAttribute(Attributes.LOGO, val);\n    } else {\n      this.removeAttribute(Attributes.LOGO);\n    }\n  }\n\n  async #requestLoad() {\n    if (this.#loadRequested) return;\n    await (this.#loadRequested = Promise.resolve());\n    this.#loadRequested = null;\n    this.load();\n  }\n\n  load() {\n    this.#core = initialize(this as Partial<MuxMediaProps>, this.nativeEl, this.#core);\n  }\n\n  unload() {\n    teardown(this.nativeEl, this.#core, this as Partial<MuxMediaProps>);\n    this.#core = undefined;\n  }\n\n  attributeChangedCallback(attrName: string, oldValue: string | null, newValue: string | null) {\n    // Only forward the attributes to the native media element that are not handled.\n    const isNativeAttr = CustomVideoElement.observedAttributes.includes(attrName);\n    if (isNativeAttr && !['src', 'autoplay', 'preload'].includes(attrName)) {\n      super.attributeChangedCallback(attrName, oldValue, newValue);\n    }\n\n    switch (attrName) {\n      case Attributes.PLAYER_SOFTWARE_NAME:\n        this.playerSoftwareName = newValue ?? undefined;\n        break;\n      case Attributes.PLAYER_SOFTWARE_VERSION:\n        this.playerSoftwareVersion = newValue ?? undefined;\n        break;\n      case 'src': {\n        const hadSrc = !!oldValue;\n        const hasSrc = !!newValue;\n        if (!hadSrc && hasSrc) {\n          this.#requestLoad();\n        } else if (hadSrc && !hasSrc) {\n          this.unload();\n        } else if (hadSrc && hasSrc) {\n          this.unload();\n          this.#requestLoad();\n        }\n        break;\n      }\n      case 'autoplay':\n        if (newValue === oldValue) {\n          break;\n        }\n        /** In case newValue is an empty string or null, use this.autoplay which translates to booleans (WL) */\n        this.#core?.setAutoplay(this.autoplay);\n        break;\n      case 'preload':\n        if (newValue === oldValue) {\n          break;\n        }\n        this.#core?.setPreload(newValue as HTMLMediaElement['preload']);\n        break;\n      case Attributes.PLAYBACK_ID:\n        this.src = toMuxVideoURL(this) as string;\n        break;\n      case Attributes.DEBUG: {\n        const debug = this.debug;\n        if (!!this.mux) {\n          /** @TODO Link to docs for a more detailed discussion (CJP) */\n          console.info(\n            'Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src.'\n          );\n        }\n        if (!!this._hls) {\n          this._hls.config.debug = debug;\n        }\n        break;\n      }\n      case Attributes.METADATA_URL:\n        if (newValue) {\n          fetch(newValue)\n            .then((resp) => resp.json())\n            .then((json) => (this.metadata = json))\n            .catch(() => console.error(`Unable to load or parse metadata JSON from metadata-url ${newValue}!`));\n        }\n        break;\n      case Attributes.STREAM_TYPE:\n        // If the newValue is unset\n        if (newValue == null || newValue !== oldValue) {\n          this.dispatchEvent(new CustomEvent('streamtypechange', { composed: true, bubbles: true }));\n        }\n        break;\n      case Attributes.TARGET_LIVE_WINDOW:\n        if (newValue == null || newValue !== oldValue) {\n          this.dispatchEvent(\n            new CustomEvent('targetlivewindowchange', { composed: true, bubbles: true, detail: this.targetLiveWindow })\n          );\n        }\n        break;\n      case Attributes.LOGO:\n        if (newValue == null || newValue !== oldValue) {\n          this.updateLogo();\n        }\n        break;\n    }\n  }\n\n  updateLogo() {\n    if (!this.shadowRoot) return;\n\n    const slotLogo = this.shadowRoot.querySelector('slot[name=\"logo\"]');\n    if (!slotLogo) return;\n\n    const logoHTML = (this.constructor as typeof MuxVideoElement).getLogoHTML(this.#logo || this.logo);\n    slotLogo.innerHTML = logoHTML;\n  }\n\n  connectedCallback(): void {\n    super.connectedCallback?.();\n    if (this.nativeEl && this.src && !this.#core) {\n      this.#requestLoad();\n    }\n  }\n\n  disconnectedCallback(): void {\n    this.unload();\n  }\n\n  handleEvent(event: Event): void {\n    if (event.target === this.nativeEl) {\n      // Composed events are forwarded to parent shadow hosts (e.g. mux-player).\n      this.dispatchEvent(\n        new CustomEvent(event.type, {\n          composed: true,\n          detail: (event as CustomEvent).detail,\n        })\n      );\n    }\n  }\n}\n\nexport {\n  PlaybackEngine,\n  PlaybackEngine as Hls,\n  ExtensionMimeTypeMap as MimeTypes,\n  MediaError,\n  Events,\n  generatePlayerInitTime,\n};\n","export const isMaybeBrowser = () => typeof window != 'undefined';\n// @ts-ignore\nexport const isMaybeServer = () => typeof global != 'undefined';\n\nconst getEnvPlayerVersion = () => {\n  try {\n    // @ts-ignore\n    return PLAYER_VERSION as string;\n  } catch {}\n  return 'UNKNOWN';\n};\n\nconst player_version: string = getEnvPlayerVersion();\n\nexport const getPlayerVersion = () => player_version;\n","export const muxLogo = `\n<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" part=\"logo\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2\" viewBox=\"0 0 1600 500\"><g fill=\"#fff\"><path d=\"M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729\" style=\"fill-rule:nonzero\"/></g></svg>`;\n"],"mappings":";;;;;;;;AAAA,SACEA,UAAA,IAAAC,CAAA,EACAC,QAAA,IAAAC,CAAA,EACAC,sBAAA,IAAAC,CAAA,EAGAC,aAAA,IAAAC,CAAA,EACAC,aAAA,IAAAC,CAAA,EAEAC,UAAA,IAAAC,EAAA,EACAC,QAAA,IAAAC,CAAA,EAEAC,cAAA,IAAAC,CAAA,EACAC,YAAA,IAAAC,CAAA,EACAC,YAAA,IAAAC,CAAA,EACAC,iBAAA,IAAAC,CAAA,EACAC,WAAA,IAAAC,CAAA,EACAC,gBAAA,IAAAC,CAAA,EACAC,WAAA,IAAAC,CAAA,EACAC,YAAA,IAAAC,CAAA,EACAC,aAAA,IAAAC,CAAA,EACAC,aAAA,IAAAC,CAAA,EACAC,mBAAA,IAAAC,CAAA,EACAC,gBAAA,IAAAC,EAAA,EACAC,WAAA,IAAAC,EAAA,EACAC,QAAA,IAAAC,EAAA,EACAC,WAAA,IAAAC,EAAA,EACAC,mBAAA,IAAAC,EAAA,EACAC,iBAAA,IAAAC,EAAA,QAEK;AC1BP,IAAMC,CAAA,GAAsBC,CAAA,KAAM;IAChC,IAAI;MAEF,OAAO,QACT;IAAA,QAAQ,CAAC;IACT,OAAO,SACT;EAAA;EAEMC,CAAA,GAAyBF,CAAA,CAAoB;EAEtCG,CAAA,GAAmBC,CAAA,KAAMF,CAAA;AD+BtC,SAASG,kBAAA,IAAAC,CAAA,EAAoBC,MAAA,IAAAC,EAAA,QAAc;AE7CpC,IAAMC,CAAA,GAAU;;AFoDhB,IAAMC,CAAA,GAAa;IACxBC,wBAAA,EAA0B;IAC1BC,aAAA,EAAe;IACfC,KAAA,EAAO;IACPC,gBAAA,EAAkB;IAClBC,eAAA,EAAiB;IACjBC,SAAA,EAAW;IACXC,cAAA,EAAgB;IAChBC,OAAA,EAAS;IACTC,cAAA,EAAgB;IAChBC,cAAA,EAAgB;IAChBC,eAAA,EAAiB;IACjBC,kBAAA,EAAoB;IACpBC,gBAAA,EAAkB;IAClBC,gBAAA,EAAkB;IAClBC,cAAA,EAAgB;IAChBC,YAAA,EAAc;IACdC,WAAA,EAAa;IACbC,oBAAA,EAAsB;IACtBC,uBAAA,EAAyB;IACzBC,gBAAA,EAAkB;IAClBC,WAAA,EAAa;IACbC,eAAA,EAAiB;IACjBC,UAAA,EAAY;IACZC,WAAA,EAAa;IACbC,kBAAA,EAAoB;IACpBC,gBAAA,EAAkB;IAClBC,IAAA,EAAM;IACNC,IAAA,EAAM;EACR;EAEMC,EAAA,GAAsBC,MAAA,CAAOC,MAAA,CAAO/B,CAAU;EAEvCgC,CAAA,GAAwBvC,CAAA,CAAiB;EACzCwC,CAAA,GAAqB;EAtFlCC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAAAC,CAAA;EAwFaC,CAAA,GAAN,cAAkClD,CAAmD;IA6D1FmD,YAAA,EAAc;MACZ,MAAM;MA9DHC,CAAA,OAAAJ,CAAA;MAaLI,CAAA,OAAAd,CAAA;MACAc,CAAA,OAAAb,CAAA;MACAa,CAAA,OAAAZ,CAAA;MACAY,CAAA,OAAAX,CAAA,EAAsB,CAAC;MACvBW,CAAA,OAAAV,CAAA,EAAkB,CAAC;MACnBU,CAAA,OAAAT,CAAA;MACAS,CAAA,OAAAR,CAAA;MACAQ,CAAA,OAAAP,CAAA;MACAO,CAAA,OAAAN,CAAA;MACAM,CAAA,OAAAL,CAAA,EAAgB;MAyCdM,CAAA,OAAKb,CAAA,EAAyBzF,CAAA,CAAuB,IAErD,KAAKuG,QAAA,CAASC,gBAAA,CAAiB,eAAgBC,CAAA,IAAkB;QAzJrE,IAAAC,CAAA;QA0JM,IAAMC,CAAA,GAAkBrF,CAAA,CAAY,KAAKiF,QAAQ;UAC3CK,CAAA,IAAeF,CAAA,QAAKG,QAAA,KAAL,OAAAH,CAAA,GAAiB,CAAC;QAGvC,KAAKG,QAAA,GAAW;UACd,GAAGF,CAAA;UACH,GAAGC;QACL,IAGKD,CAAA,oBAAAA,CAAA,CAA0B,+BAA8B,oBAC3DL,CAAA,OAAKN,CAAA,EAAQ,YACb,KAAKc,UAAA,CAAW,EAEpB;MAAA,CAAC,CACH;IAAA;IAhFA,WAAWC,KAAA,EAAO;MAChB,OAAOzB,CACT;IAAA;IAEA,WAAW0B,QAAA,EAAU;MACnB,OAAO3B,CACT;IAAA;IAEA,WAAW4B,mBAAA,EAAqB;MAjGlC,IAAAR,CAAA;MAkGI,OAAO,CAAC,GAAGvB,EAAA,EAAqB,KAAIuB,CAAA,GAAAxD,CAAA,CAAmBgE,kBAAA,KAAnB,OAAAR,CAAA,GAAyC,EAAG,EAClF;IAAA;IAaA,OAAOS,YAAYT,CAAA,EAA0B;MAC3C,OAAI,CAACA,CAAA,IAAaA,CAAA,KAAc,UAAgB,KACzCA,CAAA,KAAc,YAAYrD,CAAA,GAAU,yBAAyBqD,CAAS,MAC/E;IAAA;IAEA,OAAOU,gBAAgBV,CAAA,GAAgC,CAAC,GAAG;MArH7D,IAAAE,CAAA;MAsHI,OAAkB;AAAA,QACd1D,CAAA,CAAmBkE,eAAA,CAAgBV,CAAK,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAyBvC,KAAKS,WAAA,EAAYP,CAAA,GAAAF,CAAA,CAAMpD,CAAA,CAAW4B,IAAI,MAArB,OAAA0B,CAAA,GAA0B,EAAE,CAAC;AAAA;AAAA,KAGtD;IAAA;IAwBA,IAAIS,WAAA,EAAa;MA3KnB,IAAAX,CAAA;MA4KI,QAAQA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWqB,WAAW,MAAxC,OAAA+B,CAAA,GAAoE,MAC9E;IAAA;IAEA,IAAIW,WAAWX,CAAA,EAAuC;MAChDA,CAAA,KAAU,KAAKW,UAAA,KACdX,CAAA,GAEM/F,CAAA,CAAe4G,QAAA,CAASb,CAAK,IACtC,KAAKc,YAAA,CAAalE,CAAA,CAAWqB,WAAA,EAAa+B,CAAK,IAE/Ce,OAAA,CAAQC,IAAA,CAAK,gDAAgD/G,CAAA,CAAegH,IAAA,CAAK,CAAC,EAAE,IAJpF,KAAKC,eAAA,CAAgBtE,CAAA,CAAWqB,WAAW,EAM/C;IAAA;IAEA,IAAIkD,eAAA,EAAiB;MACnB,OAAK,KAAKC,YAAA,CAAaxE,CAAA,CAAWoB,gBAAgB,IAC3C,CAAE,KAAK4C,YAAA,CAAahE,CAAA,CAAWoB,gBAAgB,IADMqD,CAAA,OAAKrC,CAAA,CAEnE;IAAA;IAEA,IAAImC,eAAenB,CAAA,EAAK;MAElBA,CAAA,IAAO,KAAKmB,cAAA,KAEZnB,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWoB,gBAAgB,IAEhD,KAAK8C,YAAA,CAAalE,CAAA,CAAWoB,gBAAA,EAAkB,GAAG,CAACgC,CAAG,EAAE,EAE5D;IAAA;IAEA,IAAIsB,mBAAA,EAAqB;MA1M3B,IAAAtB,CAAA;MA2MI,QAAOA,CAAA,GAAAqB,CAAA,OAAKhC,CAAA,MAAL,OAAAW,CAAA,GAA4BnB,CACrC;IAAA;IAEA,IAAIyC,mBAAmBtB,CAAA,EAA2B;MAChDH,CAAA,OAAKR,CAAA,EAAsBW,CAAA,CAC7B;IAAA;IAEA,IAAIuB,sBAAA,EAAwB;MAlN9B,IAAAvB,CAAA;MAmNI,QAAOA,CAAA,GAAAqB,CAAA,OAAKjC,CAAA,MAAL,OAAAY,CAAA,GAA+BpB,CACxC;IAAA;IAEA,IAAI2C,sBAAsBvB,CAAA,EAA2B;MACnDH,CAAA,OAAKT,CAAA,EAAyBY,CAAA,CAChC;IAAA;IAGA,IAAIwB,KAAA,EAAmC;MA3NzC,IAAAxB,CAAA;MA4NI,QAAOA,CAAA,GAAAqB,CAAA,OAAKvC,CAAA,MAAL,gBAAAkB,CAAA,CAAYyB,MACrB;IAAA;IAEA,IAAIC,IAAA,EAAqD;MA/N3D,IAAA1B,CAAA;MAgOI,QAAOA,CAAA,QAAKF,QAAA,KAAL,gBAAAE,CAAA,CAAe0B,GACxB;IAAA;IAEA,IAAIC,MAAA,EAAQ;MAnOd,IAAA3B,CAAA;MAoOI,QAAOA,CAAA,GAAAjG,CAAA,CAAS,KAAK+F,QAAQ,MAAtB,OAAAE,CAAA,GAA2B,IACpC;IAAA;IAEA,IAAI4B,gBAAA,EAA0D;MAC5D,OAAOP,CAAA,OAAK/B,CAAA,CACd;IAAA;IAEA,IAAIsC,gBAAgB5B,CAAA,EAA+C;MACjEH,CAAA,OAAKP,CAAA,EAAmBU,CAAA,CAC1B;IAAA;IAEA,IAAI6B,IAAA,EAAM;MAIR,OAAO,KAAKjB,YAAA,CAAa,KAAK,CAChC;IAAA;IAEA,IAAIiB,IAAI7B,CAAA,EAAa;MAGfA,CAAA,KAAQ,KAAK6B,GAAA,KAEb7B,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgB,KAAK,IAE1B,KAAKJ,YAAA,CAAa,OAAOd,CAAG,EAEhC;IAAA;IAEA,IAAI8B,KAAA,EAAkD;MAlQxD,IAAA9B,CAAA;MAmQI,QAAQA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAW2B,IAAI,MAAjC,OAAAyB,CAAA,GAAwE,MAClF;IAAA;IAEA,IAAI8B,KAAK9B,CAAA,EAAgD;MAEnDA,CAAA,KAAQ,KAAK8B,IAAA,KAEb9B,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAW2B,IAAA,EAAMyB,CAAG,IAEtC,KAAKkB,eAAA,CAAgBtE,CAAA,CAAW2B,IAAI,EAExC;IAAA;IAEA,IAAIwD,QAAA,EAAU;MACZ,IAAM/B,CAAA,GAAM,KAAKY,YAAA,CAAa,SAAS;MACvC,OAAIZ,CAAA,KAAQ,KAAW,SACnB,CAAC,QAAQ,YAAY,MAAM,EAAEa,QAAA,CAASb,CAAG,IAAUA,CAAA,GAChD,MAAM+B,OACf;IAAA;IAEA,IAAIA,QAAQ/B,CAAA,EAAK;MAGXA,CAAA,IAAO,KAAKY,YAAA,CAAa,SAAS,MAElC,CAAC,IAAI,QAAQ,YAAY,MAAM,EAAEC,QAAA,CAASb,CAAG,IAC/C,KAAKc,YAAA,CAAa,WAAWd,CAAG,IAEhC,KAAKkB,eAAA,CAAgB,SAAS,EAElC;IAAA;IAEA,IAAIc,MAAA,EAAQ;MACV,OAAO,KAAKpB,YAAA,CAAahE,CAAA,CAAWG,KAAK,KAAK,IAChD;IAAA;IAEA,IAAIiF,MAAMhC,CAAA,EAAK;MAETA,CAAA,KAAQ,KAAKgC,KAAA,KAEbhC,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWG,KAAA,EAAO,EAAE,IAEtC,KAAKmE,eAAA,CAAgBtE,CAAA,CAAWG,KAAK,EAEzC;IAAA;IAEA,IAAIkF,gBAAA,EAAkB;MACpB,OAAO,KAAKb,YAAA,CAAaxE,CAAA,CAAWI,gBAAgB,CACtD;IAAA;IAEA,IAAIiF,gBAAgBjC,CAAA,EAAK;MAEnBA,CAAA,KAAQ,KAAKiC,eAAA,IAEjB,KAAKC,eAAA,CAAgBtF,CAAA,CAAWI,gBAAA,EAAkB,CAAC,CAACgD,CAAG,CACzD;IAAA;IAEA,IAAImC,eAAA,EAAiB;MACnB,OAAO,KAAKf,YAAA,CAAaxE,CAAA,CAAWK,eAAe,CACrD;IAAA;IAEA,IAAIkF,eAAenC,CAAA,EAAK;MAElBA,CAAA,KAAQ,KAAKmC,cAAA,KAEbnC,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWK,eAAA,EAAiB,EAAE,IAEhD,KAAKiE,eAAA,CAAgBtE,CAAA,CAAWK,eAAe,EAEnD;IAAA;IAEA,IAAImF,UAAA,EAAgC;MAClC,IAAMpC,CAAA,GAAM,KAAKY,YAAA,CAAahE,CAAA,CAAWuB,UAAU;MACnD,IAAI6B,CAAA,IAAO,MAAM;MACjB,IAAME,CAAA,GAAM,CAACF,CAAA;MACb,OAAQqC,MAAA,CAAOC,KAAA,CAAMpC,CAAG,IAAU,SAANA,CAC9B;IAAA;IAEA,IAAIkC,UAAUpC,CAAA,EAAyB;MAEjCA,CAAA,KAAQ,KAAKoC,SAAA,KAEbpC,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWuB,UAAU,IAE1C,KAAK2C,YAAA,CAAalE,CAAA,CAAWuB,UAAA,EAAY,GAAG6B,CAAG,EAAE,EAErD;IAAA;IAGA,IAAIuC,WAAA,EAAiC;MAhWvC,IAAAvC,CAAA;MAiWI,OAAI,KAAKoB,YAAA,CAAaxE,CAAA,CAAWiB,WAAW,IACnC,KAAK+C,YAAA,CAAahE,CAAA,CAAWiB,WAAW,KAG1CmC,CAAA,GAAAjE,EAAA,CAAoB,KAAK8F,GAAG,MAA5B,OAAA7B,CAAA,GAAiC,MAC1C;IAAA;IAEA,IAAIuC,WAAWvC,CAAA,EAAyB;MAElCA,CAAA,KAAQ,KAAKuC,UAAA,KAEbvC,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWiB,WAAA,EAAamC,CAAG,IAE7C,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWiB,WAAW,EAE/C;IAAA;IAEA,IAAI2E,cAAA,EAAgB;MAnXtB,IAAAxC,CAAA;MAoXI,QAAQA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWS,cAAc,MAA3C,OAAA2C,CAAA,GAAuE,MACjF;IAAA;IAEA,IAAIwC,cAAcxC,CAAA,EAAqC;MACjDA,CAAA,KAAQ,KAAKwC,aAAA,KAEbxC,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWS,cAAA,EAAgB2C,CAAG,IAEhD,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWS,cAAc,EAElD;IAAA;IAEA,IAAIoF,cAAA,EAAgB;MAjYtB,IAAAzC,CAAA;MAkYI,QAAQA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWU,cAAc,MAA3C,OAAA0C,CAAA,GAAuE,MACjF;IAAA;IAEA,IAAIyC,cAAczC,CAAA,EAAqC;MACjDA,CAAA,KAAQ,KAAKyC,aAAA,KAEbzC,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWU,cAAA,EAAgB0C,CAAG,IAEhD,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWU,cAAc,EAElD;IAAA;IAEA,IAAIoF,eAAA,EAAiB;MA/YvB,IAAA1C,CAAA;MAgZI,QAAQA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWW,eAAe,MAA5C,OAAAyC,CAAA,GAAyE,MACnF;IAAA;IAEA,IAAI0C,eAAe1C,CAAA,EAAsC;MACnDA,CAAA,KAAQ,KAAK0C,cAAA,KAEb1C,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWW,eAAA,EAAiByC,CAAG,IAEjD,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWW,eAAe,EAEnD;IAAA;IAEA,IAAIoF,iBAAA,EAAmB;MACrB,IAAM3C,CAAA,GAAM,KAAKY,YAAA,CAAahE,CAAA,CAAWY,kBAAkB;MAC3D,IAAIwC,CAAA,IAAO,MAAM;MACjB,IAAME,CAAA,GAAM,CAACF,CAAA;MACb,OAAQqC,MAAA,CAAOC,KAAA,CAAMpC,CAAG,IAAU,SAANA,CAC9B;IAAA;IAEA,IAAIyC,iBAAiB3C,CAAA,EAAyB;MACxCA,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWY,kBAAkB,IAElD,KAAKsD,YAAA,CAAalE,CAAA,CAAWY,kBAAA,EAAoB,GAAGwC,CAAG,EAAE,CAE7D;IAAA;IAEA,IAAI4C,eAAA,EAAiB;MACnB,IAAM5C,CAAA,GAAM,KAAKY,YAAA,CAAahE,CAAA,CAAWa,gBAAgB;MACzD,IAAIuC,CAAA,IAAO,MAAM;MACjB,IAAME,CAAA,GAAM,CAACF,CAAA;MACb,OAAQqC,MAAA,CAAOC,KAAA,CAAMpC,CAAG,IAAU,SAANA,CAC9B;IAAA;IAEA,IAAI0C,eAAe5C,CAAA,EAAyB;MACtCA,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWa,gBAAgB,IAEhD,KAAKqD,YAAA,CAAalE,CAAA,CAAWa,gBAAA,EAAkB,GAAGuC,CAAG,EAAE,CAE3D;IAAA;IAEA,IAAI6C,eAAA,EAAiB;MACnB,IAAM7C,CAAA,GAAM,KAAKY,YAAA,CAAahE,CAAA,CAAWc,gBAAgB;MACzD,IAAIsC,CAAA,IAAO,MAAM;MACjB,IAAME,CAAA,GAAM,CAACF,CAAA;MACb,OAAQqC,MAAA,CAAOC,KAAA,CAAMpC,CAAG,IAAU,SAANA,CAC9B;IAAA;IAEA,IAAI2C,eAAe7C,CAAA,EAAyB;MACtCA,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWc,gBAAgB,IAEhD,KAAKoD,YAAA,CAAalE,CAAA,CAAWc,gBAAA,EAAkB,GAAGsC,CAAG,EAAE,CAE3D;IAAA;IAEA,IAAI8C,aAAA,EAAe;MACjB,IAAM9C,CAAA,GAAM,KAAKY,YAAA,CAAahE,CAAA,CAAWe,cAAc;MACvD,IAAIqC,CAAA,IAAO,MAAM;MACjB,IAAME,CAAA,GAAM,CAACF,CAAA;MACb,OAAQqC,MAAA,CAAOC,KAAA,CAAMpC,CAAG,IAAU,SAANA,CAC9B;IAAA;IAEA,IAAI4C,aAAa9C,CAAA,EAAyB;MACpCA,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWe,cAAc,IAE9C,KAAKmD,YAAA,CAAalE,CAAA,CAAWe,cAAA,EAAgB,GAAGqC,CAAG,EAAE,CAEzD;IAAA;IAEA,IAAI+C,aAAA,EAAe;MAzdrB,IAAA/C,CAAA;MA0dI,QAAOA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWE,aAAa,MAA1C,OAAAkD,CAAA,GAA+C,MACxD;IAAA;IAEA,IAAI+C,aAAa/C,CAAA,EAAyB;MAEpCA,CAAA,KAAQ,KAAK+C,YAAA,KAEb/C,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWE,aAAA,EAAekD,CAAG,IAE/C,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWE,aAAa,EAEjD;IAAA;IAEA,IAAIkG,SAAA,EAAW;MAxejB,IAAAhD,CAAA;MAyeI,QAAOA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWM,SAAS,MAAtC,OAAA8C,CAAA,GAA2C,MACpD;IAAA;IAEA,IAAIgD,SAAShD,CAAA,EAAyB;MAEhCA,CAAA,KAAQ,KAAKgD,QAAA,KAEbhD,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWM,SAAA,EAAW8C,CAAG,IAE3C,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWM,SAAS,EAE7C;IAAA;IAKA,IAAI+F,cAAA,EAAgB;MA1ftB,IAAAjD,CAAA,EAAAE,CAAA,EAAAC,CAAA,EAAAF,CAAA;MA2fI,IAAI,KAAKmB,YAAA,CAAaxE,CAAA,CAAWO,cAAc,GAC7C,QAAO6C,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWO,cAAc,MAA3C,OAAA6C,CAAA,GAAgD;MAEzD,IAAI,KAAKoB,YAAA,CAAaxE,CAAA,CAAWiB,WAAW,GAAG;QAC7C,IAAM,GAAGqF,CAAU,IAAIjH,EAAA,EAAkBiE,CAAA,QAAKqC,UAAA,KAAL,OAAArC,CAAA,GAAmB,EAAE;QAC9D,QAAOC,CAAA,OAAIgD,eAAA,CAAgBD,CAAU,EAAEE,GAAA,CAAI,OAAO,MAA3C,OAAAjD,CAAA,GAAgD,MACzD;MAAA;MACA,IAAI,KAAK0B,GAAA,EACP,QAAO5B,CAAA,OAAIkD,eAAA,CAAgB,KAAKtB,GAAG,EAAEuB,GAAA,CAAI,OAAO,MAAzC,OAAAnD,CAAA,GAA8C,MAGzD;IAAA;IAKA,IAAIgD,cAAcjD,CAAA,EAAyB;MACrCA,CAAA,KAAQ,KAAKiD,aAAA,KAEbjD,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWO,cAAA,EAAgB6C,CAAG,IAEhD,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWO,cAAc,EAElD;IAAA;IAEA,IAAIkG,OAAA,EAAS;MACX,IAAMrD,CAAA,GAAW,KAAKY,YAAA,CAAahE,CAAA,CAAWO,cAAc;QACtD+C,CAAA,GAAM,KAAKU,YAAA,CAAahE,CAAA,CAAWM,SAAS;MAClD,OAAO;QACL,GAAGmE,CAAA,OAAKnC,CAAA;QACR,IAAIc,CAAA,IAAY,OAAO;UAAEsD,QAAA,EAAAtD;QAAS,IAAI,CAAC;QACvC,IAAIE,CAAA,IAAO,OAAO;UAAEqD,GAAA,EAAArD;QAAI,IAAI,CAAC,CAC/B;MAAA,CACF;IAAA;IAEA,IAAImD,OAAOrD,CAAA,EAAK;MACdH,CAAA,OAAKX,CAAA,EAAUc,CAAA,WAAAA,CAAA,GAAO,CAAC,EACzB;IAAA;IAEA,IAAIwD,MAAA,EAAQ;MAGV,OAAO7H,EAAA,CAAS,KAAKmE,QAAA,EAAU,KAAK0B,IAAI,CAC1C;IAAA;IAEA,IAAIiC,OAAA,EAA6B;MAziBnC,IAAAzD,CAAA;MA0iBI,QAAOA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWQ,OAAO,MAApC,OAAA4C,CAAA,GAAyC,MAClD;IAAA;IAEA,IAAIyD,OAAOzD,CAAA,EAAyB;MAE9BA,CAAA,KAAQ,KAAKyD,MAAA,KAEbzD,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWQ,OAAA,EAAS4C,CAAG,IAEzC,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWQ,OAAO,EAE3C;IAAA;IAEA,IAAIsG,uBAAA,EAA6C;MAxjBnD,IAAA1D,CAAA;MAyjBI,QAAOA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWC,wBAAwB,MAArD,OAAAmD,CAAA,GAA0D,MACnE;IAAA;IAEA,IAAI0D,uBAAuB1D,CAAA,EAAyB;MAE9CA,CAAA,KAAQ,KAAK0D,sBAAA,KAEb1D,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWC,wBAAA,EAA0BmD,CAAG,IAE1D,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWC,wBAAwB,EAE5D;IAAA;IAEA,IAAI8G,WAAA,EAA+C;MAvkBrD,IAAA3D,CAAA;MAykBI,QAAQA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAWwB,WAAW,MAAxC,OAAA4B,CAAA,GAAsE7E,CAAA,CAAc,KAAK2E,QAAQ,CAC3G;IAAA;IAEA,IAAI6D,WAAW3D,CAAA,EAAuC;MAEhDA,CAAA,KAAQ,KAAK2D,UAAA,KAEb3D,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAWwB,WAAA,EAAa4B,CAAG,IAE7C,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWwB,WAAW,EAE/C;IAAA;IAEA,IAAIwF,iBAAA,EAAmB;MAErB,OAAI,KAAKxC,YAAA,CAAaxE,CAAA,CAAWyB,kBAAkB,IAC1C,CAAE,KAAKuC,YAAA,CAAahE,CAAA,CAAWyB,kBAAkB,IAEnDhD,CAAA,CAAoB,KAAKyE,QAAQ,CAC1C;IAAA;IAEA,IAAI8D,iBAAiB5D,CAAA,EAAyB;MAExCA,CAAA,IAAO,KAAK4D,gBAAA,KAEZ5D,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWyB,kBAAkB,IAElD,KAAKyC,YAAA,CAAalE,CAAA,CAAWyB,kBAAA,EAAoB,GAAG,CAAC2B,CAAG,EAAE,EAE9D;IAAA;IAEA,IAAI6D,cAAA,EAAgB;MA1mBtB,IAAA7D,CAAA,EAAAE,CAAA;MA2mBI,IAAI,KAAKkB,YAAA,CAAaxE,CAAA,CAAW0B,gBAAgB,GAAG;QAClD,IAAM;YAAEwF,cAAA,EAAA3D;UAAe,IAAI;UACrBF,CAAA,IAAcD,CAAA,QAAKF,QAAA,CAASiE,QAAA,CAASC,GAAA,CAAI,CAAC,MAA5B,OAAAhE,CAAA,GAAiC;UAC/CkD,CAAA,IAAgBhD,CAAA,QAAKJ,QAAA,CAASiE,QAAA,CAASE,KAAA,CAAM,CAAC,MAA9B,OAAA/D,CAAA,GAAmC;QACzD,OAAOgE,IAAA,CAAKC,GAAA,CAAIjB,CAAA,EAAejD,CAAA,GAAeE,CAAyB,CACzE;MAAA;MACA,OAAO5E,EAAA,CAAiB,KAAKuE,QAAQ,CACvC;IAAA;IAEA,IAAIgE,eAAA,EAAiB;MACnB,IAAK,KAAK1C,YAAA,CAAaxE,CAAA,CAAW0B,gBAAgB,GAClD,OAAO,CAAE,KAAKsC,YAAA,CAAahE,CAAA,CAAW0B,gBAAgB,CACxD;IAAA;IAEA,IAAIwF,eAAe9D,CAAA,EAAyB;MAEtCA,CAAA,IAAO,KAAK8D,cAAA,KAEZ9D,CAAA,IAAO,OACT,KAAKkB,eAAA,CAAgBtE,CAAA,CAAW0B,gBAAgB,IAEhD,KAAKwC,YAAA,CAAalE,CAAA,CAAW0B,gBAAA,EAAkB,GAAG,CAAC0B,CAAG,EAAE,EAE5D;IAAA;IAEA,IAAI+D,SAAA,EAAW;MACb,OAAOtI,EAAA,CAAY,KAAKqE,QAAQ,CAClC;IAAA;IAEA,MAAM5F,aAAsB8F,CAAA,EAA0B;MACpD,OAAO7F,CAAA,CAAa,KAAK2F,QAAA,EAAUE,CAAS,CAC9C;IAAA;IAEA,IAAIoE,eAAA,EAAiB;MACnB,OAAO7J,CAAA,CAAkB,KAAKuF,QAAQ,CACxC;IAAA;IAEA,IAAIuE,UAAA,EAAY;MACd,OAAOhK,CAAA,CAAa,KAAKyF,QAAQ,CACnC;IAAA;IAEA,MAAMtF,YAAYwF,CAAA,EAAqB;MACrC,OAAOvF,CAAA,CAAY,KAAKqF,QAAA,EAAUE,CAAQ,CAC5C;IAAA;IAEA,IAAIsE,cAAA,EAAgB;MAClB,OAAO3J,CAAA,CAAiB,KAAKmF,QAAQ,CACvC;IAAA;IAEA,IAAIyE,SAAA,EAAW;MACb,OAAO1I,EAAA,CAAY,KAAKiE,QAAQ,CAClC;IAAA;IAEAhF,aAAA,EAAe;MACb,OAAOC,CAAA,CAAa,KAAK+E,QAAA,EAAU,KAAK0B,IAAI,CAC9C;IAAA;IAEA,IAAIgD,WAAA,EAAa;MACf,OAAOvJ,CAAA,CAAc,KAAK6E,QAAA,EAAU,KAAK0B,IAAI,CAC/C;IAAA;IAEA,IAAIiD,eAAA,EAAqD;MACvD,IAAMzE,CAAA,GAAM,KAAKY,YAAA,CAAahE,CAAA,CAAWsB,eAAe;MACxD,IAAI8B,CAAA,KAAQvG,CAAA,CAAciL,GAAA,IAAO1E,CAAA,KAAQvG,CAAA,CAAckL,MAAA,EAAQ,OAAO3E,CAExE;IAAA;IAEA,IAAIyE,eAAezE,CAAA,EAAyC;MACtDA,CAAA,KAAQ,KAAKyE,cAAA,KAEbzE,CAAA,KAAQvG,CAAA,CAAciL,GAAA,IAAO1E,CAAA,KAAQvG,CAAA,CAAckL,MAAA,GACrD,KAAK7D,YAAA,CAAalE,CAAA,CAAWsB,eAAA,EAAiB8B,CAAG,IAEjD,KAAKkB,eAAA,CAAgBtE,CAAA,CAAWsB,eAAe,EAEnD;IAAA;IAEA,IAAIkC,SAAA,EAAW;MAgBb,OAAO;QACL,GAhBuD,KAAKwE,iBAAA,CAAkB,EAC7EC,MAAA,CAAQ3E,CAAA,IACAA,CAAA,CAAS4E,UAAA,CAAW,WAAW,KAAK,CAAE,CAAClI,CAAA,CAAWgB,YAAY,EAAeiD,QAAA,CAASX,CAAQ,CACtG,EACA6E,MAAA,CACC,CAAC7E,CAAA,EAAWC,CAAA,KAAa;UACvB,IAAMF,CAAA,GAAQ,KAAKW,YAAA,CAAaT,CAAQ;UACxC,OAAIF,CAAA,IAAS,SACXC,CAAA,CAAUC,CAAA,CAAS6E,OAAA,CAAQ,cAAc,EAAE,EAAEA,OAAA,CAAQ,MAAM,GAAG,CAAW,IAAI/E,CAAA,GAExEC,CACT;QAAA,GACA,CAAC,CACH;QAIA,GAAGmB,CAAA,OAAKpC,CAAA;MACV,CACF;IAAA;IAEA,IAAImB,SAASJ,CAAA,EAAqC;MAChDH,CAAA,OAAKZ,CAAA,EAAYe,CAAA,WAAAA,CAAA,GAAO,CAAC,IACnB,KAAK0B,GAAA,IACT,KAAKA,GAAA,CAAIuD,IAAA,CAAK,MAAM5D,CAAA,OAAKpC,CAAA,CAAS,CAEtC;IAAA;IAEA,IAAIiG,WAAA,EAAa;MACf,OAAO7D,CAAA,OAAKlC,CAAA,CACd;IAAA;IAEA,IAAI+F,WAAWlF,CAAA,EAA+C;MAC5DH,CAAA,OAAKV,CAAA,EAAca,CAAA,CACrB;IAAA;IAEA,IAAImF,KAAA,EAAO;MA7tBb,IAAAnF,CAAA;MA8tBI,QAAOA,CAAA,QAAKY,YAAA,CAAahE,CAAA,CAAW4B,IAAI,MAAjC,OAAAwB,CAAA,GAAsCqB,CAAA,OAAK9B,CAAA,CACpD;IAAA;IAEA,IAAI4F,KAAKnF,CAAA,EAAK;MACRA,CAAA,GACF,KAAKc,YAAA,CAAalE,CAAA,CAAW4B,IAAA,EAAMwB,CAAG,IAEtC,KAAKkB,eAAA,CAAgBtE,CAAA,CAAW4B,IAAI,CAExC;IAAA;IASA4G,KAAA,EAAO;MACLvF,CAAA,OAAKf,CAAA,EAAQ3F,CAAA,CAAW,MAAgC,KAAK2G,QAAA,EAAUuB,CAAA,OAAKvC,CAAA,CAAK,EACnF;IAAA;IAEAuG,OAAA,EAAS;MACPhM,CAAA,CAAS,KAAKyG,QAAA,EAAUuB,CAAA,OAAKvC,CAAA,GAAO,IAA8B,GAClEe,CAAA,OAAKf,CAAA,EAAQ,OACf;IAAA;IAEAwG,yBAAyBtF,CAAA,EAAkBE,CAAA,EAAyBC,CAAA,EAAyB;MAzvB/F,IAAA+C,CAAA,EAAAqC,CAAA;MAgwBI,QALqB/I,CAAA,CAAmBgE,kBAAA,CAAmBK,QAAA,CAASb,CAAQ,KACxD,CAAC,CAAC,OAAO,YAAY,SAAS,EAAEa,QAAA,CAASb,CAAQ,KACnE,MAAMsF,wBAAA,CAAyBtF,CAAA,EAAUE,CAAA,EAAUC,CAAQ,GAGrDH,CAAA;QACN,KAAKpD,CAAA,CAAWkB,oBAAA;UACd,KAAKwD,kBAAA,GAAqBnB,CAAA,WAAAA,CAAA,GAAY;UACtC;QACF,KAAKvD,CAAA,CAAWmB,uBAAA;UACd,KAAKwD,qBAAA,GAAwBpB,CAAA,WAAAA,CAAA,GAAY;UACzC;QACF,KAAK;UAAO;YACV,IAAMqF,CAAA,GAAS,CAAC,CAACtF,CAAA;cACXuF,CAAA,GAAS,CAAC,CAACtF,CAAA;YACb,CAACqF,CAAA,IAAUC,CAAA,GACbC,CAAA,OAAKlG,CAAA,EAAAC,CAAA,EAALkG,IAAA,SACSH,CAAA,IAAU,CAACC,CAAA,GACpB,KAAKJ,MAAA,CAAO,IACHG,CAAA,IAAUC,CAAA,KACnB,KAAKJ,MAAA,CAAO,GACZK,CAAA,OAAKlG,CAAA,EAAAC,CAAA,EAALkG,IAAA;YAEF;UACF;QACA,KAAK;UACH,IAAIxF,CAAA,KAAaD,CAAA,EACf;UAAA,CAGFgD,CAAA,GAAA7B,CAAA,OAAKvC,CAAA,MAAL,QAAAoE,CAAA,CAAY0C,WAAA,CAAY,KAAKC,QAAA;UAC7B;QACF,KAAK;UACH,IAAI1F,CAAA,KAAaD,CAAA,EACf;UAAA,CAEFqF,CAAA,GAAAlE,CAAA,OAAKvC,CAAA,MAAL,QAAAyG,CAAA,CAAYO,UAAA,CAAW3F,CAAA;UACvB;QACF,KAAKvD,CAAA,CAAWiB,WAAA;UACd,KAAKgE,GAAA,GAAMlI,CAAA,CAAc,IAAI;UAC7B;QACF,KAAKiD,CAAA,CAAWG,KAAA;UAAO;YACrB,IAAMyI,CAAA,GAAQ,KAAKxD,KAAA;YACb,KAAKN,GAAA,IAETX,OAAA,CAAQgF,IAAA,CACN,+HACF,GAEI,KAAKvE,IAAA,KACT,KAAKA,IAAA,CAAKwE,MAAA,CAAOhE,KAAA,GAAQwD,CAAA;YAE3B;UACF;QACA,KAAK5I,CAAA,CAAWgB,YAAA;UACVuC,CAAA,IACF8F,KAAA,CAAM9F,CAAQ,EACX+F,IAAA,CAAMV,CAAA,IAASA,CAAA,CAAKW,IAAA,CAAK,CAAC,EAC1BD,IAAA,CAAMV,CAAA,IAAU,KAAKpF,QAAA,GAAWoF,CAAK,EACrCY,KAAA,CAAM,MAAMrF,OAAA,CAAQY,KAAA,CAAM,2DAA2DxB,CAAQ,GAAG,CAAC;UAEtG;QACF,KAAKvD,CAAA,CAAWwB,WAAA;UAAA,CAEV+B,CAAA,IAAY,QAAQA,CAAA,KAAaD,CAAA,KACnC,KAAKmG,aAAA,CAAc,IAAIC,WAAA,CAAY,oBAAoB;YAAEC,QAAA,EAAU;YAAMC,OAAA,EAAS;UAAK,CAAC,CAAC;UAE3F;QACF,KAAK5J,CAAA,CAAWyB,kBAAA;UAAA,CACV8B,CAAA,IAAY,QAAQA,CAAA,KAAaD,CAAA,KACnC,KAAKmG,aAAA,CACH,IAAIC,WAAA,CAAY,0BAA0B;YAAEC,QAAA,EAAU;YAAMC,OAAA,EAAS;YAAMC,MAAA,EAAQ,KAAK7C;UAAiB,CAAC,CAC5G;UAEF;QACF,KAAKhH,CAAA,CAAW4B,IAAA;UAAA,CACV2B,CAAA,IAAY,QAAQA,CAAA,KAAaD,CAAA,KACnC,KAAKG,UAAA,CAAW;UAElB;MACJ;IACF;IAEAA,WAAA,EAAa;MACX,IAAI,CAAC,KAAKqG,UAAA,EAAY;MAEtB,IAAM1G,CAAA,GAAW,KAAK0G,UAAA,CAAWC,aAAA,CAAc,mBAAmB;MAClE,IAAI,CAAC3G,CAAA,EAAU;MAEf,IAAME,CAAA,GAAY,KAAKP,WAAA,CAAuCc,WAAA,CAAYY,CAAA,OAAK9B,CAAA,KAAS,KAAK4F,IAAI;MACjGnF,CAAA,CAAS4G,SAAA,GAAY1G,CACvB;IAAA;IAEA2G,kBAAA,EAA0B;MAx1B5B,IAAA7G,CAAA;MAAA,CAy1BIA,CAAA,SAAM6G,iBAAA,KAAN,QAAA7G,CAAA,CAAA2F,IAAA,QACI,KAAK7F,QAAA,IAAY,KAAK+B,GAAA,IAAO,CAACR,CAAA,OAAKvC,CAAA,KACrC4G,CAAA,OAAKlG,CAAA,EAAAC,CAAA,EAALkG,IAAA,MAEJ;IAAA;IAEAmB,qBAAA,EAA6B;MAC3B,KAAKzB,MAAA,CAAO,CACd;IAAA;IAEA0B,YAAY/G,CAAA,EAAoB;MAC1BA,CAAA,CAAMgH,MAAA,KAAW,KAAKlH,QAAA,IAExB,KAAKuG,aAAA,CACH,IAAIC,WAAA,CAAYtG,CAAA,CAAM8B,IAAA,EAAM;QAC1ByE,QAAA,EAAU;QACVE,MAAA,EAASzG,CAAA,CAAsByG;MACjC,CAAC,CACH,CAEJ;IAAA;EACF;AAzwBE3H,CAAA,OAAAmI,OAAA,IACAlI,CAAA,OAAAkI,OAAA,IACAjI,CAAA,OAAAiI,OAAA,IACAhI,CAAA,OAAAgI,OAAA,IACA/H,CAAA,OAAA+H,OAAA,IACA9H,CAAA,OAAA8H,OAAA,IACA7H,CAAA,OAAA6H,OAAA,IACA5H,CAAA,OAAA4H,OAAA,IACA3H,CAAA,OAAA2H,OAAA,IACA1H,CAAA,OAAA0H,OAAA,IAtBKzH,CAAA,OAAA0H,OAAA,IAipBCzH,CAAA,GAAY,eAAA0H,CAAA,EAAG;EACf9F,CAAA,OAAKtC,CAAA,MACT,MAAOc,CAAA,OAAKd,CAAA,EAAiBqI,OAAA,CAAQC,OAAA,CAAQ,IAC7CxH,CAAA,OAAKd,CAAA,EAAiB,OACtB,KAAKqG,IAAA,CAAK,EACZ;AAAA;AAAA,SAAAxI,CAAA,IAAA0K,UAAA,EAAA5K,EAAA,IAAAD,MAAA,EAAA5C,EAAA,IAAAD,UAAA,EAAA8F,CAAA,IAAA6H,mBAAA,EAAAhO,CAAA,IAAAD,sBAAA,EAAAuF,CAAA,IAAAyC,kBAAA,EAAA1C,CAAA,IAAA2C,qBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}