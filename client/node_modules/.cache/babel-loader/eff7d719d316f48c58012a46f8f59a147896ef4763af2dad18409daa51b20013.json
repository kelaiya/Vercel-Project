{"ast":null,"code":"\"use client\";\n\nimport m, { useState as pe, useRef as Ee } from \"react\";\nimport { MaxResolution as Le, MinResolution as Ae, RenditionOrder as Ie, generatePlayerInitTime as Me } from \"@mux/playback-core\";\nimport { MediaError as Ke } from \"@mux/mux-player\";\nimport X from \"react\";\nvar M = parseInt(X.version) >= 19,\n  E = {\n    className: \"class\",\n    classname: \"class\",\n    htmlFor: \"for\",\n    crossOrigin: \"crossorigin\",\n    viewBox: \"viewBox\",\n    playsInline: \"playsinline\",\n    autoPlay: \"autoplay\",\n    playbackRate: \"playbackrate\"\n  },\n  B = e => e == null,\n  ee = (e, t) => B(t) ? !1 : e in t,\n  te = e => e.replace(/[A-Z]/g, t => `-${t.toLowerCase()}`),\n  ne = (e, t) => {\n    if (!(!M && typeof t == \"boolean\" && !t)) {\n      if (ee(e, E)) return E[e];\n      if (typeof t != \"undefined\") return /[A-Z]/.test(e) ? te(e) : e;\n    }\n  };\nvar ae = (e, t) => !M && typeof e == \"boolean\" ? \"\" : e,\n  P = (e = {}) => {\n    let {\n      ref: t,\n      ...n\n    } = e;\n    return Object.entries(n).reduce((o, [a, l]) => {\n      let i = ne(a, l);\n      if (!i) return o;\n      let c = ae(l, a);\n      return o[i] = c, o;\n    }, {});\n  };\nimport * as d from \"react\";\nfunction x(e, t) {\n  if (typeof e == \"function\") return e(t);\n  e != null && (e.current = t);\n}\nfunction re(...e) {\n  return t => {\n    let n = !1,\n      o = e.map(a => {\n        let l = x(a, t);\n        return !n && typeof l == \"function\" && (n = !0), l;\n      });\n    if (n) return () => {\n      for (let a = 0; a < o.length; a++) {\n        let l = o[a];\n        typeof l == \"function\" ? l() : x(e[a], null);\n      }\n    };\n  };\n}\nfunction f(...e) {\n  return d.useCallback(re(...e), e);\n}\nimport { useEffect as le } from \"react\";\nvar oe = Object.prototype.hasOwnProperty,\n  ue = (e, t) => {\n    if (Object.is(e, t)) return !0;\n    if (typeof e != \"object\" || e === null || typeof t != \"object\" || t === null) return !1;\n    if (Array.isArray(e)) return !Array.isArray(t) || e.length !== t.length ? !1 : e.some((a, l) => t[l] === a);\n    let n = Object.keys(e),\n      o = Object.keys(t);\n    if (n.length !== o.length) return !1;\n    for (let a = 0; a < n.length; a++) if (!oe.call(t, n[a]) || !Object.is(e[n[a]], t[n[a]])) return !1;\n    return !0;\n  },\n  p = (e, t, n) => !ue(t, e[n]),\n  se = (e, t, n) => {\n    e[n] = t;\n  },\n  ie = (e, t, n, o = se, a = p) => le(() => {\n    let l = n == null ? void 0 : n.current;\n    l && a(l, t, e) && o(l, t, e);\n  }, [n == null ? void 0 : n.current, t]),\n  u = ie;\nvar ye = () => {\n    try {\n      return \"3.5.3\";\n    } catch {}\n    return \"UNKNOWN\";\n  },\n  me = ye(),\n  g = () => me;\nimport { useEffect as ce } from \"react\";\nvar r = (e, t, n) => ce(() => {\n  let o = t == null ? void 0 : t.current;\n  if (!o || !n) return;\n  let a = e,\n    l = n;\n  return o.addEventListener(a, l), () => {\n    o.removeEventListener(a, l);\n  };\n}, [t == null ? void 0 : t.current, n, e]);\nvar Pe = m.forwardRef(({\n    children: e,\n    ...t\n  }, n) => m.createElement(\"mux-player\", {\n    suppressHydrationWarning: !0,\n    ...P(t),\n    ref: n\n  }, e)),\n  xe = (e, t) => {\n    let {\n      onAbort: n,\n      onCanPlay: o,\n      onCanPlayThrough: a,\n      onEmptied: l,\n      onLoadStart: i,\n      onLoadedData: c,\n      onLoadedMetadata: v,\n      onProgress: R,\n      onDurationChange: T,\n      onVolumeChange: h,\n      onRateChange: b,\n      onResize: C,\n      onWaiting: k,\n      onPlay: O,\n      onPlaying: S,\n      onTimeUpdate: w,\n      onPause: N,\n      onSeeking: L,\n      onSeeked: A,\n      onStalled: I,\n      onSuspend: _,\n      onEnded: K,\n      onError: H,\n      onCuePointChange: D,\n      onChapterChange: V,\n      metadata: W,\n      tokens: U,\n      paused: z,\n      playbackId: F,\n      playbackRates: G,\n      currentTime: Z,\n      themeProps: j,\n      extraSourceParams: q,\n      castCustomData: J,\n      _hlsConfig: Y,\n      ...$\n    } = t;\n    return u(\"tokens\", U, e), u(\"playbackId\", F, e), u(\"playbackRates\", G, e), u(\"metadata\", W, e), u(\"extraSourceParams\", q, e), u(\"_hlsConfig\", Y, e), u(\"themeProps\", j, e), u(\"castCustomData\", J, e), u(\"paused\", z, e, (s, y) => {\n      y != null && (y ? s.pause() : s.play());\n    }, (s, y, Q) => s.hasAttribute(\"autoplay\") && !s.hasPlayed ? !1 : p(s, y, Q)), u(\"currentTime\", Z, e, (s, y) => {\n      y != null && (s.currentTime = y);\n    }), r(\"abort\", e, n), r(\"canplay\", e, o), r(\"canplaythrough\", e, a), r(\"emptied\", e, l), r(\"loadstart\", e, i), r(\"loadeddata\", e, c), r(\"loadedmetadata\", e, v), r(\"progress\", e, R), r(\"durationchange\", e, T), r(\"volumechange\", e, h), r(\"ratechange\", e, b), r(\"resize\", e, C), r(\"waiting\", e, k), r(\"play\", e, O), r(\"playing\", e, S), r(\"timeupdate\", e, w), r(\"pause\", e, N), r(\"seeking\", e, L), r(\"seeked\", e, A), r(\"stalled\", e, I), r(\"suspend\", e, _), r(\"ended\", e, K), r(\"error\", e, H), r(\"cuepointchange\", e, D), r(\"chapterchange\", e, V), [$];\n  },\n  de = g(),\n  fe = \"mux-player-react\",\n  ge = m.forwardRef((e, t) => {\n    var i;\n    let n = Ee(null),\n      o = f(n, t),\n      [a] = xe(n, e),\n      [l] = pe((i = e.playerInitTime) != null ? i : Me());\n    return m.createElement(Pe, {\n      ref: o,\n      defaultHiddenCaptions: e.defaultHiddenCaptions,\n      playerSoftwareName: fe,\n      playerSoftwareVersion: de,\n      playerInitTime: l,\n      ...a\n    });\n  }),\n  ze = ge;\nexport { Le as MaxResolution, Ke as MediaError, Ae as MinResolution, Ie as RenditionOrder, ze as default, Me as generatePlayerInitTime, fe as playerSoftwareName, de as playerSoftwareVersion };","map":{"version":3,"names":["m","useState","pe","useRef","Ee","MaxResolution","Le","MinResolution","Ae","RenditionOrder","Ie","generatePlayerInitTime","Me","MediaError","Ke","X","M","parseInt","version","E","className","classname","htmlFor","crossOrigin","viewBox","playsInline","autoPlay","playbackRate","B","e","ee","isKeyOf","t","te","replace","toLowerCase","ne","toNativeAttrName","test","ae","toNativeAttrValue","P","toNativeProps","ref","n","Object","entries","reduce","o","a","l","i","c","d","x","current","re","map","length","f","useCallback","useEffect","le","oe","prototype","hasOwnProperty","ue","shallowEqual","is","Array","isArray","some","keys","call","p","defaultHasChanged","se","defaultUpdateValue","ie","useObjectPropEffect","u","ye","getEnvPlayerVersion","me","g","getPlayerVersion","ce","r","useEventCallbackEffect","addEventListener","removeEventListener","Pe","forwardRef","children","createElement","suppressHydrationWarning","xe","usePlayer","onAbort","onCanPlay","onCanPlayThrough","onEmptied","onLoadStart","onLoadedData","onLoadedMetadata","v","onProgress","R","onDurationChange","T","onVolumeChange","h","onRateChange","b","onResize","C","onWaiting","k","onPlay","O","onPlaying","S","onTimeUpdate","w","onPause","N","onSeeking","L","onSeeked","A","onStalled","I","onSuspend","_","onEnded","K","onError","H","onCuePointChange","D","onChapterChange","V","metadata","W","tokens","U","paused","z","playbackId","F","playbackRates","G","currentTime","Z","themeProps","j","extraSourceParams","q","castCustomData","J","_hlsConfig","Y","$","s","y","pause","play","Q","hasAttribute","hasPlayed","de","fe","ge","playerInitTime","defaultHiddenCaptions","playerSoftwareName","playerSoftwareVersion","ze","default"],"sources":["/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-player-react/src/index.tsx","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-player-react/src/common/utils.ts","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-player-react/src/useComposedRefs.ts","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-player-react/src/useObjectPropEffect.ts","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-player-react/src/env.ts","/Users/kelaiyaparikh/projects/first-app/client/node_modules/@mux/mux-player-react/src/useEventCallbackEffect.ts"],"sourcesContent":["'use client';\nimport React, { useState, useRef } from 'react';\nimport { MaxResolution, MinResolution, RenditionOrder, generatePlayerInitTime } from '@mux/playback-core';\nimport { MediaError } from '@mux/mux-player';\nimport type MuxPlayerElement from '@mux/mux-player';\nimport type { MuxPlayerElementEventMap } from '@mux/mux-player';\nimport { toNativeProps } from './common/utils';\nimport { useComposedRefs } from './useComposedRefs';\nimport useObjectPropEffect, { defaultHasChanged } from './useObjectPropEffect';\nimport { getPlayerVersion } from './env';\nimport { useEventCallbackEffect } from './useEventCallbackEffect';\nimport type { MuxPlayerProps, MuxPlayerRefAttributes } from './types';\n\nexport { MediaError, MaxResolution, MinResolution, RenditionOrder, generatePlayerInitTime };\nexport * from './types';\n\nconst MuxPlayerInternal = React.forwardRef<MuxPlayerRefAttributes, MuxPlayerProps>(({ children, ...props }, ref) => {\n  return React.createElement(\n    'mux-player',\n    {\n      suppressHydrationWarning: true, // prevent issues with SSR / player-init-time\n      ...toNativeProps(props),\n      ref,\n    },\n    children\n  );\n});\n\nconst usePlayer = (\n  ref: // | ((instance: EventTarget | null) => void)\n  React.MutableRefObject<MuxPlayerElement | null> | null | undefined,\n  props: MuxPlayerProps\n) => {\n  const {\n    onAbort,\n    onCanPlay,\n    onCanPlayThrough,\n    onEmptied,\n    onLoadStart,\n    onLoadedData,\n    onLoadedMetadata,\n    onProgress,\n    onDurationChange,\n    onVolumeChange,\n    onRateChange,\n    onResize,\n    onWaiting,\n    onPlay,\n    onPlaying,\n    onTimeUpdate,\n    onPause,\n    onSeeking,\n    onSeeked,\n    onStalled,\n    onSuspend,\n    onEnded,\n    onError,\n    onCuePointChange,\n    onChapterChange,\n    metadata,\n    tokens,\n    paused,\n    playbackId,\n    playbackRates,\n    currentTime,\n    themeProps,\n    extraSourceParams,\n    castCustomData,\n    _hlsConfig,\n    ...remainingProps\n  } = props;\n  /**\n   * @TODO We need to have some better modeling/architecture around order effects. We should also revisit our mapping of media-request-related props\n   * all to `src` in our template code. For now, moving tokens before playbackId, as there are timing issues that happen if we set it after playbackId (CJP)\n   **/\n  useObjectPropEffect('tokens', tokens, ref);\n  // NOTE: We should set playbackId before all other props to ensure that any playback/view session-specific props are applied to the approrpiate\n  // session. \"Under the hood,\" we wait one frame before (re)initializing playback core (and thus e.g. hls.js and mux-embed data sdk), so everything\n  // should be applied as expected as a result.\n  useObjectPropEffect('playbackId', playbackId, ref);\n  useObjectPropEffect('playbackRates', playbackRates, ref);\n  useObjectPropEffect('metadata', metadata, ref);\n  useObjectPropEffect('extraSourceParams', extraSourceParams, ref);\n  useObjectPropEffect('_hlsConfig', _hlsConfig, ref);\n  useObjectPropEffect('themeProps', themeProps, ref);\n  useObjectPropEffect('castCustomData', castCustomData, ref);\n  useObjectPropEffect(\n    'paused',\n    paused,\n    ref,\n    (playerEl: HTMLMediaElement, pausedVal?: boolean) => {\n      if (pausedVal == null) return;\n      if (pausedVal) {\n        playerEl.pause();\n      } else {\n        playerEl.play();\n      }\n    },\n    (playerEl, value, propName) => {\n      if (playerEl.hasAttribute('autoplay') && !playerEl.hasPlayed) {\n        return false;\n      }\n      return defaultHasChanged(playerEl, value, propName);\n    }\n  );\n  useObjectPropEffect('currentTime', currentTime, ref, (playerEl: HTMLMediaElement, currentTimeVal?: number) => {\n    if (currentTimeVal == null) return;\n    playerEl.currentTime = currentTimeVal;\n  });\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('abort', ref, onAbort);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('canplay', ref, onCanPlay);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('canplaythrough', ref, onCanPlayThrough);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('emptied', ref, onEmptied);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('loadstart', ref, onLoadStart);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('loadeddata', ref, onLoadedData);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('loadedmetadata', ref, onLoadedMetadata);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('progress', ref, onProgress);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('durationchange', ref, onDurationChange);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('volumechange', ref, onVolumeChange);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('ratechange', ref, onRateChange);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('resize', ref, onResize);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('waiting', ref, onWaiting);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('play', ref, onPlay);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('playing', ref, onPlaying);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('timeupdate', ref, onTimeUpdate);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('pause', ref, onPause);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('seeking', ref, onSeeking);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('seeked', ref, onSeeked);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('stalled', ref, onStalled);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('suspend', ref, onSuspend);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('ended', ref, onEnded);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('error', ref, onError);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('cuepointchange', ref, onCuePointChange);\n  useEventCallbackEffect<MuxPlayerElement, MuxPlayerElementEventMap>('chapterchange', ref, onChapterChange);\n  return [remainingProps];\n};\n\nexport const playerSoftwareVersion = getPlayerVersion();\nexport const playerSoftwareName = 'mux-player-react';\n\nconst MuxPlayer = React.forwardRef<\n  MuxPlayerRefAttributes,\n  Omit<MuxPlayerProps, 'playerSoftwareVersion' | 'playerSoftwareName'>\n>((props, ref) => {\n  const innerPlayerRef = useRef<MuxPlayerElement>(null);\n  const playerRef = useComposedRefs(innerPlayerRef, ref);\n  const [remainingProps] = usePlayer(innerPlayerRef, props);\n  const [playerInitTime] = useState(props.playerInitTime ?? generatePlayerInitTime());\n\n  return (\n    <MuxPlayerInternal\n      /** @TODO Fix types relationships (CJP) */\n      ref={playerRef as React.Ref<MuxPlayerElement>}\n      defaultHiddenCaptions={props.defaultHiddenCaptions}\n      playerSoftwareName={playerSoftwareName}\n      playerSoftwareVersion={playerSoftwareVersion}\n      playerInitTime={playerInitTime}\n      {...remainingProps}\n    />\n  );\n});\n\nexport default MuxPlayer;\n","import React from 'react';\n\n// React 19 supports custom elements and setting properties directly on them,\n// older React versions converted all props to attributes on custom elments.\n// Boolean `true` values should not be converted to empty strings in React 19+\n// because that would result in a `false` value if it was set via a property.\n// React 19+ handles primitive values correctly but we still need to convert\n// the camelCase prop names to kebab-case attribute names for mux-player. (WL)\n\nconst IS_REACT_19_OR_NEWER = parseInt(React.version) >= 19;\n\n// NOTE: As a forward-looking implementation, we may want to assume\n// prop names -> attribute names is always a simple name.toLowerCase()\n// and provide a mechanism for passing in per-component overrides for\n// e.g. kebab cases, as that's the way React/Preact handles these. (CJP)\nconst ReactPropToAttrNameMap = {\n  className: 'class',\n  classname: 'class',\n  htmlFor: 'for',\n  crossOrigin: 'crossorigin',\n  viewBox: 'viewBox',\n  playsInline: 'playsinline',\n  autoPlay: 'autoplay',\n  playbackRate: 'playbackrate',\n};\n\ntype KeyTypes = string | number | symbol;\ntype Maybe<T> = T | null | undefined;\n\nexport const isNil = (x: unknown): x is null | undefined => x == undefined;\n\n// Type Guard to determine if a given key is actually a key of some object of type T\nexport const isKeyOf = <T extends object = any>(k: KeyTypes, o: Maybe<T>): k is keyof T => {\n  if (isNil(o)) return false;\n  return k in o;\n};\n\nconst toKebabCase = (string: string) => string.replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`);\n\nexport const toNativeAttrName = (propName: string, propValue: any): string | undefined => {\n  if (!IS_REACT_19_OR_NEWER && typeof propValue === 'boolean' && !propValue) return undefined;\n  if (isKeyOf(propName, ReactPropToAttrNameMap)) return ReactPropToAttrNameMap[propName];\n  if (typeof propValue === 'undefined') return undefined;\n  if (/[A-Z]/.test(propName)) return toKebabCase(propName);\n  return propName;\n};\nexport const toStyleAttr = <T>(x: T) => x;\n\nexport const toNativeAttrValue = (propValue: any, _propName: string) => {\n  if (!IS_REACT_19_OR_NEWER && typeof propValue === 'boolean') return '';\n  return propValue;\n};\n\nexport const toNativeProps = (props: { ref?: any; [key: string]: any } = {}) => {\n  const { ref, ...restProps } = props;\n  return Object.entries(restProps).reduce<{ [k: string]: string }>((transformedProps, [propName, propValue]) => {\n    const attrName = toNativeAttrName(propName, propValue);\n\n    // prop was stripped. Don't add.\n    if (!attrName) {\n      return transformedProps;\n    }\n\n    const attrValue = toNativeAttrValue(propValue, propName);\n    transformedProps[attrName] = attrValue;\n    return transformedProps;\n  }, {});\n};\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T): (() => void) | void | undefined {\n  if (typeof ref === 'function') {\n    return ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]): React.RefCallback<T> {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == 'function') {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n\n    // React <19 will log an error to the console if a callback ref returns a\n    // value. We don't use ref cleanups internally so this will only happen if a\n    // user's ref callback returns a value, which we only expect if they are\n    // using the cleanup functionality added in React 19.\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == 'function') {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]): React.RefCallback<T> {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import { useEffect } from 'react';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Slightly modified version of React's shallowEqual, with optimizations for Arrays\n * so we may treat them specifically as unequal if they are not a) both arrays\n * or b) don't contain the same (shallowly compared) elements.\n */\nconst shallowEqual = (objA: any, objB: any): boolean => {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  if (Array.isArray(objA)) {\n    // Early \"cheap\" array compares\n    if (!Array.isArray(objB) || objA.length !== objB.length) return false;\n    // Shallow compare for arrays\n    return objA.some((vVal, i) => objB[i] === vVal);\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (!hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport const defaultHasChanged = (obj: any, v: any, k: string) => {\n  return !shallowEqual(v, obj[k]);\n};\n\nconst defaultUpdateValue = (obj: any, v: any, k: string) => {\n  obj[k] = v;\n};\n\nexport const useObjectPropEffect = <T extends { [k: string]: any }, V>(\n  propName: string,\n  propValue: V | null | undefined,\n  ref: React.MutableRefObject<T | null> | null | undefined,\n  updateValue = defaultUpdateValue,\n  hasChanged = defaultHasChanged\n) => {\n  return useEffect(() => {\n    const obj = ref?.current;\n    if (!obj) return;\n    if (!hasChanged(obj, propValue, propName)) return;\n    updateValue(obj, propValue, propName);\n  }, [ref?.current, propValue]);\n};\n\nexport default useObjectPropEffect;\n","const getEnvPlayerVersion = () => {\n  try {\n    // @ts-ignore\n    return PLAYER_VERSION as string;\n  } catch {}\n  return 'UNKNOWN';\n};\n\nconst player_version: string = getEnvPlayerVersion();\n\nexport const getPlayerVersion = () => player_version;\n","import React, { useEffect } from 'react';\nimport type { GenericEventListener } from './index';\n\nexport const useEventCallbackEffect = <\n  TElement extends EventTarget = EventTarget,\n  TEventMap extends Record<string, Event> = Record<string, Event>,\n  K extends keyof TEventMap = keyof TEventMap,\n>(\n  type: K,\n  ref: // | ((instance: EventTarget | null) => void)\n  React.MutableRefObject<TElement | null> | null | undefined,\n  callback: GenericEventListener<TEventMap[K]> | undefined\n) => {\n  return useEffect(() => {\n    const eventTarget = ref?.current;\n    if (!eventTarget || !callback) return;\n\n    // Type assertion needed because TypeScript can't infer the exact event type\n    const eventName = type as string;\n    const listener = callback as EventListener;\n\n    eventTarget.addEventListener(eventName, listener);\n    return () => {\n      eventTarget.removeEventListener(eventName, listener);\n    };\n  }, [ref?.current, callback, type]);\n};\n"],"mappings":";;AACA,OAAOA,CAAA,IAASC,QAAA,IAAAC,EAAA,EAAUC,MAAA,IAAAC,EAAA,QAAc;AACxC,SAASC,aAAA,IAAAC,EAAA,EAAeC,aAAA,IAAAC,EAAA,EAAeC,cAAA,IAAAC,EAAA,EAAgBC,sBAAA,IAAAC,EAAA,QAA8B;AACrF,SAASC,UAAA,IAAAC,EAAA,QAAkB;ACH3B,OAAOC,CAAA,MAAW;AASlB,IAAMC,CAAA,GAAuBC,QAAA,CAASF,CAAA,CAAMG,OAAO,KAAK;EAMlDC,CAAA,GAAyB;IAC7BC,SAAA,EAAW;IACXC,SAAA,EAAW;IACXC,OAAA,EAAS;IACTC,WAAA,EAAa;IACbC,OAAA,EAAS;IACTC,WAAA,EAAa;IACbC,QAAA,EAAU;IACVC,YAAA,EAAc;EAChB;EAKaC,CAAA,GAASC,CAAA,IAAsCA,CAAA,IAAK;EAGpDC,EAAA,GAAUC,CAAyBF,CAAA,EAAaG,CAAA,KACvDJ,CAAA,CAAMI,CAAC,IAAU,KACdH,CAAA,IAAKG,CAAA;EAGRC,EAAA,GAAeJ,CAAA,IAAmBA,CAAA,CAAOK,OAAA,CAAQ,UAAWF,CAAA,IAAU,IAAIA,CAAA,CAAMG,WAAA,CAAY,CAAC,EAAE;EAExFC,EAAA,GAAmBC,CAACR,CAAA,EAAkBG,CAAA,KAAuC;IACxF,IAAI,GAAChB,CAAA,IAAwB,OAAOgB,CAAA,IAAc,aAAa,CAACA,CAAA,GAChE;MAAA,IAAIF,EAAA,CAAQD,CAAA,EAAUV,CAAsB,GAAG,OAAOA,CAAA,CAAuBU,CAAQ;MACrF,IAAI,OAAOG,CAAA,IAAc,aACzB,OAAI,QAAQM,IAAA,CAAKT,CAAQ,IAAUI,EAAA,CAAYJ,CAAQ,IAChDA,CAAA;IAAA;EACT;AAGO,IAAMU,EAAA,GAAoBC,CAACX,CAAA,EAAgBG,CAAA,KAC5C,CAAChB,CAAA,IAAwB,OAAOa,CAAA,IAAc,YAAkB,KAC7DA,CAAA;EAGIY,CAAA,GAAgBC,CAACb,CAAA,GAA2C,CAAC,MAAM;IAC9E,IAAM;MAAEc,GAAA,EAAAX,CAAA;MAAK,GAAGY;IAAU,IAAIf,CAAA;IAC9B,OAAOgB,MAAA,CAAOC,OAAA,CAAQF,CAAS,EAAEG,MAAA,CAAgC,CAACC,CAAA,EAAkB,CAACC,CAAA,EAAUC,CAAS,MAAM;MAC5G,IAAMC,CAAA,GAAWf,EAAA,CAAiBa,CAAA,EAAUC,CAAS;MAGrD,IAAI,CAACC,CAAA,EACH,OAAOH,CAAA;MAGT,IAAMI,CAAA,GAAYb,EAAA,CAAkBW,CAAA,EAAWD,CAAQ;MACvD,OAAAD,CAAA,CAAiBG,CAAQ,IAAIC,CAAA,EACtBJ,CACT;IAAA,GAAG,CAAC,CAAC,CACP;EAAA;ACnEA,YAAYK,CAAA,MAAW;AAQvB,SAASC,EAAUzB,CAAA,EAAqBG,CAAA,EAA2C;EACjF,IAAI,OAAOH,CAAA,IAAQ,YACjB,OAAOA,CAAA,CAAIG,CAAK;EACPH,CAAA,IAAQ,SAChBA,CAAA,CAAkC0B,OAAA,GAAUvB,CAAA,CAEjD;AAAA;AAMA,SAASwB,GAAA,GAAkB3B,CAAA,EAA8C;EACvE,OAAQG,CAAA,IAAS;IACf,IAAIY,CAAA,GAAa;MACXI,CAAA,GAAWnB,CAAA,CAAK4B,GAAA,CAAKR,CAAA,IAAQ;QACjC,IAAMC,CAAA,GAAUI,CAAA,CAAOL,CAAA,EAAKjB,CAAI;QAChC,OAAI,CAACY,CAAA,IAAc,OAAOM,CAAA,IAAW,eACnCN,CAAA,GAAa,KAERM,CACT;MAAA,CAAC;IAMD,IAAIN,CAAA,EACF,OAAO,MAAM;MACX,SAASK,CAAA,GAAI,GAAGA,CAAA,GAAID,CAAA,CAASU,MAAA,EAAQT,CAAA,IAAK;QACxC,IAAMC,CAAA,GAAUF,CAAA,CAASC,CAAC;QACtB,OAAOC,CAAA,IAAW,aACpBA,CAAA,CAAQ,IAERI,CAAA,CAAOzB,CAAA,CAAKoB,CAAC,GAAG,IAAI,CAExB;MAAA;IACF,CAEJ;EAAA,CACF;AAAA;AAMA,SAASU,EAAA,GAAsB9B,CAAA,EAA8C;EAE3E,OAAawB,CAAA,CAAAO,WAAA,CAAYJ,EAAA,CAAY,GAAG3B,CAAI,GAAGA,CAAI,CACrD;AAAA;ACzDA,SAASgC,SAAA,IAAAC,EAAA,QAAiB;AAE1B,IAAMC,EAAA,GAAiBlB,MAAA,CAAOmB,SAAA,CAAUC,cAAA;EAOlCC,EAAA,GAAeC,CAACtC,CAAA,EAAWG,CAAA,KAAuB;IACtD,IAAIa,MAAA,CAAOuB,EAAA,CAAGvC,CAAA,EAAMG,CAAI,GACtB,OAAO;IAGT,IAAI,OAAOH,CAAA,IAAS,YAAYA,CAAA,KAAS,QAAQ,OAAOG,CAAA,IAAS,YAAYA,CAAA,KAAS,MACpF,OAAO;IAGT,IAAIqC,KAAA,CAAMC,OAAA,CAAQzC,CAAI,GAEpB,OAAI,CAACwC,KAAA,CAAMC,OAAA,CAAQtC,CAAI,KAAKH,CAAA,CAAK6B,MAAA,KAAW1B,CAAA,CAAK0B,MAAA,GAAe,KAEzD7B,CAAA,CAAK0C,IAAA,CAAK,CAACtB,CAAA,EAAMC,CAAA,KAAMlB,CAAA,CAAKkB,CAAC,MAAMD,CAAI;IAGhD,IAAML,CAAA,GAAQC,MAAA,CAAO2B,IAAA,CAAK3C,CAAI;MACxBmB,CAAA,GAAQH,MAAA,CAAO2B,IAAA,CAAKxC,CAAI;IAE9B,IAAIY,CAAA,CAAMc,MAAA,KAAWV,CAAA,CAAMU,MAAA,EACzB,OAAO;IAIT,SAAST,CAAA,GAAI,GAAGA,CAAA,GAAIL,CAAA,CAAMc,MAAA,EAAQT,CAAA,IAChC,IAAI,CAACc,EAAA,CAAeU,IAAA,CAAKzC,CAAA,EAAMY,CAAA,CAAMK,CAAC,CAAC,KAAK,CAACJ,MAAA,CAAOuB,EAAA,CAAGvC,CAAA,CAAKe,CAAA,CAAMK,CAAC,CAAC,GAAGjB,CAAA,CAAKY,CAAA,CAAMK,CAAC,CAAC,CAAC,GACnF,OAAO;IAIX,OAAO,EACT;EAAA;EAEayB,CAAA,GAAoBC,CAAC9C,CAAA,EAAUG,CAAA,EAAQY,CAAA,KAC3C,CAACsB,EAAA,CAAalC,CAAA,EAAGH,CAAA,CAAIe,CAAC,CAAC;EAG1BgC,EAAA,GAAqBC,CAAChD,CAAA,EAAUG,CAAA,EAAQY,CAAA,KAAc;IAC1Df,CAAA,CAAIe,CAAC,IAAIZ,CACX;EAAA;EAEa8C,EAAA,GAAsBC,CACjClD,CAAA,EACAG,CAAA,EACAY,CAAA,EACAI,CAAA,GAAc4B,EAAA,EACd3B,CAAA,GAAayB,CAAA,KAENZ,EAAA,CAAU,MAAM;IACrB,IAAMZ,CAAA,GAAMN,CAAA,oBAAAA,CAAA,CAAKW,OAAA;IACZL,CAAA,IACAD,CAAA,CAAWC,CAAA,EAAKlB,CAAA,EAAWH,CAAQ,KACxCmB,CAAA,CAAYE,CAAA,EAAKlB,CAAA,EAAWH,CAAQ,CACtC;EAAA,GAAG,CAACe,CAAA,oBAAAA,CAAA,CAAKW,OAAA,EAASvB,CAAS,CAAC;EAGvBgD,CAAA,GAAQF,EAAA;ACjEf,IAAMG,EAAA,GAAsBC,CAAA,KAAM;IAChC,IAAI;MAEF,OAAO,OACT;IAAA,QAAQ,CAAC;IACT,OAAO,SACT;EAAA;EAEMC,EAAA,GAAyBF,EAAA,CAAoB;EAEtCG,CAAA,GAAmBC,CAAA,KAAMF,EAAA;ACVtC,SAAgBtB,SAAA,IAAAyB,EAAA,QAAiB;AAG1B,IAAMC,CAAA,GAAyBC,CAKpC3D,CAAA,EACAG,CAAA,EAEAY,CAAA,KAEO0C,EAAA,CAAU,MAAM;EACrB,IAAMtC,CAAA,GAAchB,CAAA,oBAAAA,CAAA,CAAKuB,OAAA;EACzB,IAAI,CAACP,CAAA,IAAe,CAACJ,CAAA,EAAU;EAG/B,IAAMK,CAAA,GAAYpB,CAAA;IACZqB,CAAA,GAAWN,CAAA;EAEjB,OAAAI,CAAA,CAAYyC,gBAAA,CAAiBxC,CAAA,EAAWC,CAAQ,GACzC,MAAM;IACXF,CAAA,CAAY0C,mBAAA,CAAoBzC,CAAA,EAAWC,CAAQ,CACrD;EAAA,CACF;AAAA,GAAG,CAAClB,CAAA,oBAAAA,CAAA,CAAKuB,OAAA,EAASX,CAAA,EAAUf,CAAI,CAAC;ALTnC,IAAM8D,EAAA,GAAoB3F,CAAA,CAAM4F,UAAA,CAAmD,CAAC;IAAEC,QAAA,EAAAhE,CAAA;IAAU,GAAGG;EAAM,GAAGY,CAAA,KACnG5C,CAAA,CAAM8F,aAAA,CACX,cACA;IACEC,wBAAA,EAA0B;IAC1B,GAAGtD,CAAA,CAAcT,CAAK;IACtBW,GAAA,EAAAC;EACF,GACAf,CACF,CACD;EAEKmE,EAAA,GAAYC,CAChBpE,CAAA,EAEAG,CAAA,KACG;IACH,IAAM;MACJkE,OAAA,EAAAtD,CAAA;MACAuD,SAAA,EAAAnD,CAAA;MACAoD,gBAAA,EAAAnD,CAAA;MACAoD,SAAA,EAAAnD,CAAA;MACAoD,WAAA,EAAAnD,CAAA;MACAoD,YAAA,EAAAnD,CAAA;MACAoD,gBAAA,EAAAC,CAAA;MACAC,UAAA,EAAAC,CAAA;MACAC,gBAAA,EAAAC,CAAA;MACAC,cAAA,EAAAC,CAAA;MACAC,YAAA,EAAAC,CAAA;MACAC,QAAA,EAAAC,CAAA;MACAC,SAAA,EAAAC,CAAA;MACAC,MAAA,EAAAC,CAAA;MACAC,SAAA,EAAAC,CAAA;MACAC,YAAA,EAAAC,CAAA;MACAC,OAAA,EAAAC,CAAA;MACAC,SAAA,EAAAC,CAAA;MACAC,QAAA,EAAAC,CAAA;MACAC,SAAA,EAAAC,CAAA;MACAC,SAAA,EAAAC,CAAA;MACAC,OAAA,EAAAC,CAAA;MACAC,OAAA,EAAAC,CAAA;MACAC,gBAAA,EAAAC,CAAA;MACAC,eAAA,EAAAC,CAAA;MACAC,QAAA,EAAAC,CAAA;MACAC,MAAA,EAAAC,CAAA;MACAC,MAAA,EAAAC,CAAA;MACAC,UAAA,EAAAC,CAAA;MACAC,aAAA,EAAAC,CAAA;MACAC,WAAA,EAAAC,CAAA;MACAC,UAAA,EAAAC,CAAA;MACAC,iBAAA,EAAAC,CAAA;MACAC,cAAA,EAAAC,CAAA;MACAC,UAAA,EAAAC,CAAA;MACA,GAAGC;IACL,IAAIlI,CAAA;IAKJ,OAAAgD,CAAA,CAAoB,UAAUiE,CAAA,EAAQpH,CAAG,GAIzCmD,CAAA,CAAoB,cAAcqE,CAAA,EAAYxH,CAAG,GACjDmD,CAAA,CAAoB,iBAAiBuE,CAAA,EAAe1H,CAAG,GACvDmD,CAAA,CAAoB,YAAY+D,CAAA,EAAUlH,CAAG,GAC7CmD,CAAA,CAAoB,qBAAqB6E,CAAA,EAAmBhI,CAAG,GAC/DmD,CAAA,CAAoB,cAAciF,CAAA,EAAYpI,CAAG,GACjDmD,CAAA,CAAoB,cAAc2E,CAAA,EAAY9H,CAAG,GACjDmD,CAAA,CAAoB,kBAAkB+E,CAAA,EAAgBlI,CAAG,GACzDmD,CAAA,CACE,UACAmE,CAAA,EACAtH,CAAA,EACA,CAACsI,CAAA,EAA4BC,CAAA,KAAwB;MAC/CA,CAAA,IAAa,SACbA,CAAA,GACFD,CAAA,CAASE,KAAA,CAAM,IAEfF,CAAA,CAASG,IAAA,CAAK,EAElB;IAAA,GACA,CAACH,CAAA,EAAUC,CAAA,EAAOG,CAAA,KACZJ,CAAA,CAASK,YAAA,CAAa,UAAU,KAAK,CAACL,CAAA,CAASM,SAAA,GAC1C,KAEF/F,CAAA,CAAkByF,CAAA,EAAUC,CAAA,EAAOG,CAAQ,CAEtD,GACAvF,CAAA,CAAoB,eAAeyE,CAAA,EAAa5H,CAAA,EAAK,CAACsI,CAAA,EAA4BC,CAAA,KAA4B;MACxGA,CAAA,IAAkB,SACtBD,CAAA,CAASX,WAAA,GAAcY,CAAA,CACzB;IAAA,CAAC,GACD7E,CAAA,CAAmE,SAAS1D,CAAA,EAAKe,CAAO,GACxF2C,CAAA,CAAmE,WAAW1D,CAAA,EAAKmB,CAAS,GAC5FuC,CAAA,CAAmE,kBAAkB1D,CAAA,EAAKoB,CAAgB,GAC1GsC,CAAA,CAAmE,WAAW1D,CAAA,EAAKqB,CAAS,GAC5FqC,CAAA,CAAmE,aAAa1D,CAAA,EAAKsB,CAAW,GAChGoC,CAAA,CAAmE,cAAc1D,CAAA,EAAKuB,CAAY,GAClGmC,CAAA,CAAmE,kBAAkB1D,CAAA,EAAK4E,CAAgB,GAC1GlB,CAAA,CAAmE,YAAY1D,CAAA,EAAK8E,CAAU,GAC9FpB,CAAA,CAAmE,kBAAkB1D,CAAA,EAAKgF,CAAgB,GAC1GtB,CAAA,CAAmE,gBAAgB1D,CAAA,EAAKkF,CAAc,GACtGxB,CAAA,CAAmE,cAAc1D,CAAA,EAAKoF,CAAY,GAClG1B,CAAA,CAAmE,UAAU1D,CAAA,EAAKsF,CAAQ,GAC1F5B,CAAA,CAAmE,WAAW1D,CAAA,EAAKwF,CAAS,GAC5F9B,CAAA,CAAmE,QAAQ1D,CAAA,EAAK0F,CAAM,GACtFhC,CAAA,CAAmE,WAAW1D,CAAA,EAAK4F,CAAS,GAC5FlC,CAAA,CAAmE,cAAc1D,CAAA,EAAK8F,CAAY,GAClGpC,CAAA,CAAmE,SAAS1D,CAAA,EAAKgG,CAAO,GACxFtC,CAAA,CAAmE,WAAW1D,CAAA,EAAKkG,CAAS,GAC5FxC,CAAA,CAAmE,UAAU1D,CAAA,EAAKoG,CAAQ,GAC1F1C,CAAA,CAAmE,WAAW1D,CAAA,EAAKsG,CAAS,GAC5F5C,CAAA,CAAmE,WAAW1D,CAAA,EAAKwG,CAAS,GAC5F9C,CAAA,CAAmE,SAAS1D,CAAA,EAAK0G,CAAO,GACxFhD,CAAA,CAAmE,SAAS1D,CAAA,EAAK4G,CAAO,GACxFlD,CAAA,CAAmE,kBAAkB1D,CAAA,EAAK8G,CAAgB,GAC1GpD,CAAA,CAAmE,iBAAiB1D,CAAA,EAAKgH,CAAe,GACjG,CAACqB,CAAc,CACxB;EAAA;EAEaQ,EAAA,GAAwBtF,CAAA,CAAiB;EACzCuF,EAAA,GAAqB;EAE5BC,EAAA,GAAY5K,CAAA,CAAM4F,UAAA,CAGtB,CAAC/D,CAAA,EAAOG,CAAA,KAAQ;IA/IlB,IAAAmB,CAAA;IAgJE,IAAMP,CAAA,GAAiBxC,EAAA,CAAyB,IAAI;MAC9C4C,CAAA,GAAYW,CAAA,CAAgBf,CAAA,EAAgBZ,CAAG;MAC/C,CAACiB,CAAc,IAAI+C,EAAA,CAAUpD,CAAA,EAAgBf,CAAK;MAClD,CAACqB,CAAc,IAAIhD,EAAA,EAASiD,CAAA,GAAAtB,CAAA,CAAMgJ,cAAA,KAAN,OAAA1H,CAAA,GAAwBvC,EAAA,CAAuB,CAAC;IAElF,OACEZ,CAAA,CAAA8F,aAAA,CAACH,EAAA;MAEChD,GAAA,EAAKK,CAAA;MACL8H,qBAAA,EAAuBjJ,CAAA,CAAMiJ,qBAAA;MAC7BC,kBAAA,EAAoBJ,EAAA;MACpBK,qBAAA,EAAuBN,EAAA;MACvBG,cAAA,EAAgB3H,CAAA;MACf,GAAGD;IAAA,CACN,CAEJ;EAAA,CAAC;EAEMgI,EAAA,GAAQL,EAAA;AAAA,SAAAtK,EAAA,IAAAD,aAAA,EAAAS,EAAA,IAAAD,UAAA,EAAAL,EAAA,IAAAD,aAAA,EAAAG,EAAA,IAAAD,cAAA,EAAAwK,EAAA,IAAAC,OAAA,EAAAtK,EAAA,IAAAD,sBAAA,EAAAgK,EAAA,IAAAI,kBAAA,EAAAL,EAAA,IAAAM,qBAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}