{"ast":null,"code":"import { TrackEvent } from \"./track-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addVideoTrack(media, track) {\n  const trackList = media.videoTracks;\n  getPrivate(track).media = media;\n  if (!getPrivate(track).renditionSet) {\n    getPrivate(track).renditionSet = /* @__PURE__ */new Set();\n  }\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.add(track);\n  const index = trackSet.size - 1;\n  if (!(index in VideoTrackList.prototype)) {\n    Object.defineProperty(VideoTrackList.prototype, index, {\n      get() {\n        return [...getPrivate(this).trackSet][index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"addtrack\", {\n      track\n    }));\n  });\n}\nfunction removeVideoTrack(track) {\n  const trackList = getPrivate(track).media?.videoTracks;\n  if (!trackList) return;\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.delete(track);\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"removetrack\", {\n      track\n    }));\n  });\n}\nfunction selectedChanged(selected) {\n  const trackList = getPrivate(selected).media.videoTracks ?? [];\n  let hasUnselected = false;\n  for (const track of trackList) {\n    if (track === selected) continue;\n    track.selected = false;\n    hasUnselected = true;\n  }\n  if (hasUnselected) {\n    if (getPrivate(trackList).changeRequested) return;\n    getPrivate(trackList).changeRequested = true;\n    queueMicrotask(() => {\n      delete getPrivate(trackList).changeRequested;\n      trackList.dispatchEvent(new Event(\"change\"));\n    });\n  }\n}\nclass VideoTrackList extends EventTarget {\n  #addTrackCallback;\n  #removeTrackCallback;\n  #changeCallback;\n  constructor() {\n    super();\n    getPrivate(this).trackSet = /* @__PURE__ */new Set();\n  }\n  get #tracks() {\n    return getPrivate(this).trackSet;\n  }\n  [Symbol.iterator]() {\n    return this.#tracks.values();\n  }\n  get length() {\n    return this.#tracks.size;\n  }\n  getTrackById(id) {\n    return [...this.#tracks].find(track => track.id === id) ?? null;\n  }\n  get selectedIndex() {\n    return [...this.#tracks].findIndex(track => track.selected);\n  }\n  get onaddtrack() {\n    return this.#addTrackCallback;\n  }\n  set onaddtrack(callback) {\n    if (this.#addTrackCallback) {\n      this.removeEventListener(\"addtrack\", this.#addTrackCallback);\n      this.#addTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addTrackCallback = callback;\n      this.addEventListener(\"addtrack\", callback);\n    }\n  }\n  get onremovetrack() {\n    return this.#removeTrackCallback;\n  }\n  set onremovetrack(callback) {\n    if (this.#removeTrackCallback) {\n      this.removeEventListener(\"removetrack\", this.#removeTrackCallback);\n      this.#removeTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeTrackCallback = callback;\n      this.addEventListener(\"removetrack\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport { VideoTrackList, addVideoTrack, removeVideoTrack, selectedChanged };","map":{"version":3,"names":["TrackEvent","getPrivate","addVideoTrack","media","track","trackList","videoTracks","renditionSet","Set","trackSet","add","index","size","VideoTrackList","prototype","Object","defineProperty","get","queueMicrotask","dispatchEvent","removeVideoTrack","delete","selectedChanged","selected","hasUnselected","changeRequested","Event","EventTarget","addTrackCallback","removeTrackCallback","changeCallback","constructor","tracks","#tracks","Symbol","iterator","values","length","getTrackById","id","find","selectedIndex","findIndex","onaddtrack","callback","removeEventListener","addEventListener","onremovetrack","onchange"],"sources":["/Users/kelaiyaparikh/projects/first-app/client/node_modules/media-tracks/dist/video-track-list.js"],"sourcesContent":["import { TrackEvent } from \"./track-event.js\";\nimport { getPrivate } from \"./utils.js\";\nfunction addVideoTrack(media, track) {\n  const trackList = media.videoTracks;\n  getPrivate(track).media = media;\n  if (!getPrivate(track).renditionSet) {\n    getPrivate(track).renditionSet = /* @__PURE__ */ new Set();\n  }\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.add(track);\n  const index = trackSet.size - 1;\n  if (!(index in VideoTrackList.prototype)) {\n    Object.defineProperty(VideoTrackList.prototype, index, {\n      get() {\n        return [...getPrivate(this).trackSet][index];\n      }\n    });\n  }\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"addtrack\", { track }));\n  });\n}\nfunction removeVideoTrack(track) {\n  const trackList = getPrivate(track).media?.videoTracks;\n  if (!trackList) return;\n  const trackSet = getPrivate(trackList).trackSet;\n  trackSet.delete(track);\n  queueMicrotask(() => {\n    trackList.dispatchEvent(new TrackEvent(\"removetrack\", { track }));\n  });\n}\nfunction selectedChanged(selected) {\n  const trackList = getPrivate(selected).media.videoTracks ?? [];\n  let hasUnselected = false;\n  for (const track of trackList) {\n    if (track === selected) continue;\n    track.selected = false;\n    hasUnselected = true;\n  }\n  if (hasUnselected) {\n    if (getPrivate(trackList).changeRequested) return;\n    getPrivate(trackList).changeRequested = true;\n    queueMicrotask(() => {\n      delete getPrivate(trackList).changeRequested;\n      trackList.dispatchEvent(new Event(\"change\"));\n    });\n  }\n}\nclass VideoTrackList extends EventTarget {\n  #addTrackCallback;\n  #removeTrackCallback;\n  #changeCallback;\n  constructor() {\n    super();\n    getPrivate(this).trackSet = /* @__PURE__ */ new Set();\n  }\n  get #tracks() {\n    return getPrivate(this).trackSet;\n  }\n  [Symbol.iterator]() {\n    return this.#tracks.values();\n  }\n  get length() {\n    return this.#tracks.size;\n  }\n  getTrackById(id) {\n    return [...this.#tracks].find((track) => track.id === id) ?? null;\n  }\n  get selectedIndex() {\n    return [...this.#tracks].findIndex((track) => track.selected);\n  }\n  get onaddtrack() {\n    return this.#addTrackCallback;\n  }\n  set onaddtrack(callback) {\n    if (this.#addTrackCallback) {\n      this.removeEventListener(\"addtrack\", this.#addTrackCallback);\n      this.#addTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#addTrackCallback = callback;\n      this.addEventListener(\"addtrack\", callback);\n    }\n  }\n  get onremovetrack() {\n    return this.#removeTrackCallback;\n  }\n  set onremovetrack(callback) {\n    if (this.#removeTrackCallback) {\n      this.removeEventListener(\"removetrack\", this.#removeTrackCallback);\n      this.#removeTrackCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#removeTrackCallback = callback;\n      this.addEventListener(\"removetrack\", callback);\n    }\n  }\n  get onchange() {\n    return this.#changeCallback;\n  }\n  set onchange(callback) {\n    if (this.#changeCallback) {\n      this.removeEventListener(\"change\", this.#changeCallback);\n      this.#changeCallback = void 0;\n    }\n    if (typeof callback == \"function\") {\n      this.#changeCallback = callback;\n      this.addEventListener(\"change\", callback);\n    }\n  }\n}\nexport {\n  VideoTrackList,\n  addVideoTrack,\n  removeVideoTrack,\n  selectedChanged\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}